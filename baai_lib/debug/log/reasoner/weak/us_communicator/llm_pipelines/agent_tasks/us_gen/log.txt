[2025-08-10 06:48:14.777166] ====================
[2025-08-10 06:48:14.777285] 1. Предобработка данных для их дальнейшней вставки в user-prompt...
[2025-08-10 06:48:14.777611] Результат:
{
 "task_goal": "Разработка чат-бота и веб-сервиса, обеспечивающих автоматизированную поддержку заказчиков цифровых продуктов в процессе формирования корректного технического задания (ТЗ), что позволит сократить количество ошибок и недоразумений при передаче требований от заказчика к команде разработки, повысить качество подготовленных технических заданий и ускорить процесс их согласования. Система должна функционировать на базе GigaChat и low-code платформы партнера, поддерживать ведение диалога с пользователем для уточнения требований, возможность интерактивного редактирования ТЗ как через интерфейс чата, так и через облачный документ, а также обеспечивать экспорт сформированного документа в форматах PDF и DOCX. Целевой аудиторией являются заказчики цифровых решений, нуждающиеся в качественной подготовке технической документации перед началом реализации проектов.",
 "history": "Бизнес-аналитик: Опишите вашу задачу простыми словами.\nЗаказчик: Необходимо разработать чат-бота и веб-сервис, которые помогут заказчику формулировать корректное техническое задание (ТЗ) для создания цифрового продукта. Решение должно работать на основе GigaChat и собственной low-code платформы партнёра. Цель – автоматизация процесса уточнения требований, сокращение недопонимания между заказчиком и разработчиком, улучшение качества подготовки ТЗ.\nБизнес-аналитик: Какую проблему вы хотите решить с помощью продукта?\nЗаказчик: Работающий прототип чат-бота и веб-сервиса с функциями:  1. Ведение диалога → уточнение требований → формирование ТЗ. 2. Возможность редактирования ТЗ в диалоге и в облачном документе. 3. Экспорт ТЗ (PDF, DOCX).\nБизнес-аналитик: Какой результат вы ожидаете? (Что должно быть на выходе?)\nЗаказчик: Чат-бот и веб-сервис, которые помогут заказчику формулировать корректное техническое задание (ТЗ) для создания цифрового продукта.\nБизнес-аналитик: Кто будет пользоваться продуктом? (Целевая аудитория)\nЗаказчик: Заказчики цифровых продуктов, которым нужно специфицировать свою задачу для разработчиков\nБизнес-аналитик: Есть ли предпочтения по технологиям или ограничения?\nЗаказчик: 1. GigaChat API. 2.Веб-интерфейс для работы на ПК и мобильных устройствах. 3. Интеграция с облачными документами (через API)\nБизнес-аналитик: Какие данные уже есть, и какие данные нужно собирать?\nЗаказчик: Никаких данных нет. Необходимо изучить литературу для выработки методологии по уточнению технического задания с целью её дальнейшей интеграции в разрабатываемый программный продукт\nБизнес-аналитик: Есть ли интеграции с другими системами?\nЗаказчик: Интеграции с внешними системами нет\nБизнес-аналитик: Какие есть дополнительные пожелания или требования?\nЗаказчик: Нет\nБизнес-аналитик: Какие критерии будут использоваться для оценки корректности сформированного технического задания (ТЗ)?\nЗаказчик: С нашей стороны критериев нет: ожидаем предложения/рекомендации с ващей стороны.\nБизнес-аналитик: Какие типы проектов предполагается охватывать вашим решением — это могут быть исключительно IT-проекты, либо также проекты из других областей деятельности (например, строительство, маркетинг)?\nЗаказчик: Разработка веб и мобильных приложений",
 "us_limit": "\n## Примечание к задаче\nСформулируй не более 5 пользовательских историй."
}.
[2025-08-10 06:48:14.777808] Статус: Операция выполнена успешно.
[2025-08-10 06:48:14.777902] --------------------
[2025-08-10 06:48:14.777984] 2. Детекция используемого языка...
[2025-08-10 06:48:14.778080] Результат:
ru.
[2025-08-10 06:48:14.778168] Статус: Операция выполнена успешно.
[2025-08-10 06:48:14.778252] --------------------
[2025-08-10 06:48:14.778331] 3. Добавление информации в user-prompt...
[2025-08-10 06:48:14.778444] Результат:

# Описание назначения проекта
Разработка чат-бота и веб-сервиса, обеспечивающих автоматизированную поддержку заказчиков цифровых продуктов в процессе формирования корректного технического задания (ТЗ), что позволит сократить количество ошибок и недоразумений при передаче требований от заказчика к команде разработки, повысить качество подготовленных технических заданий и ускорить процесс их согласования. Система должна функционировать на базе GigaChat и low-code платформы партнера, поддерживать ведение диалога с пользователем для уточнения требований, возможность интерактивного редактирования ТЗ как через интерфейс чата, так и через облачный документ, а также обеспечивать экспорт сформированного документа в форматах PDF и DOCX. Целевой аудиторией являются заказчики цифровых решений, нуждающиеся в качественной подготовке технической документации перед началом реализации проектов.
# История диалога с заказчиком
Бизнес-аналитик: Опишите вашу задачу простыми словами.
Заказчик: Необходимо разработать чат-бота и веб-сервис, которые помогут заказчику формулировать корректное техническое задание (ТЗ) для создания цифрового продукта. Решение должно работать на основе GigaChat и собственной low-code платформы партнёра. Цель – автоматизация процесса уточнения требований, сокращение недопонимания между заказчиком и разработчиком, улучшение качества подготовки ТЗ.
Бизнес-аналитик: Какую проблему вы хотите решить с помощью продукта?
Заказчик: Работающий прототип чат-бота и веб-сервиса с функциями:  1. Ведение диалога → уточнение требований → формирование ТЗ. 2. Возможность редактирования ТЗ в диалоге и в облачном документе. 3. Экспорт ТЗ (PDF, DOCX).
Бизнес-аналитик: Какой результат вы ожидаете? (Что должно быть на выходе?)
Заказчик: Чат-бот и веб-сервис, которые помогут заказчику формулировать корректное техническое задание (ТЗ) для создания цифрового продукта.
Бизнес-аналитик: Кто будет пользоваться продуктом? (Целевая аудитория)
Заказчик: Заказчики цифровых продуктов, которым нужно специфицировать свою задачу для разработчиков
Бизнес-аналитик: Есть ли предпочтения по технологиям или ограничения?
Заказчик: 1. GigaChat API. 2.Веб-интерфейс для работы на ПК и мобильных устройствах. 3. Интеграция с облачными документами (через API)
Бизнес-аналитик: Какие данные уже есть, и какие данные нужно собирать?
Заказчик: Никаких данных нет. Необходимо изучить литературу для выработки методологии по уточнению технического задания с целью её дальнейшей интеграции в разрабатываемый программный продукт
Бизнес-аналитик: Есть ли интеграции с другими системами?
Заказчик: Интеграции с внешними системами нет
Бизнес-аналитик: Какие есть дополнительные пожелания или требования?
Заказчик: Нет
Бизнес-аналитик: Какие критерии будут использоваться для оценки корректности сформированного технического задания (ТЗ)?
Заказчик: С нашей стороны критериев нет: ожидаем предложения/рекомендации с ващей стороны.
Бизнес-аналитик: Какие типы проектов предполагается охватывать вашим решением — это могут быть исключительно IT-проекты, либо также проекты из других областей деятельности (например, строительство, маркетинг)?
Заказчик: Разработка веб и мобильных приложений

## Примечание к задаче
Сформулируй не более 5 пользовательских историй.

[2025-08-10 06:48:14.778600] Статус: Операция выполнена успешно.
[2025-08-10 06:48:14.778687] --------------------
[2025-08-10 06:48:14.778768] 4. Генерация ответа с помощью LLM-агента.
[2025-08-10 06:48:14.779029] Выполняем инференс llm...
[2025-08-10 06:48:18.129081] Результат:
- Заказчик формирует техническое задание (ТЗ) для своего цифрового продукта посредством ведения диалога с чат-ботом, чтобы получить чёткое и полное понимание своей задачи.
- Заказчик редактирует техническое задание (ТЗ) непосредственно в интерфейсе чат-бота или в облачном документе, чтобы внести необходимые изменения без необходимости повторного прохождения всего цикла обсуждения.
- Заказчик экспортирует готовое техническое задание (ТЗ) в формате PDF или DOCX, чтобы передать его команде разработчиков для начала работ над проектом.
- Пользователь получает рекомендации и подсказки от системы во время составления технического задания (ТЗ), чтобы избежать типичных ошибок и улучшить качество документа.
- Заказчик использует веб-сервис для доступа к функционалу чат-бота и управления техническим заданием (ТЗ) с любого устройства, поддерживающего браузер.
[2025-08-10 06:48:18.129285] Статус: Операция выполнена успешно.
[2025-08-10 06:48:18.129394] --------------------
[2025-08-10 06:48:18.129484] 5. Разбор ответа, сгенерированного LLM-агентом.
[2025-08-10 06:48:18.129721] Результат:
['Заказчик формирует техническое задание (ТЗ) для своего цифрового продукта посредством ведения диалога с чат-ботом, чтобы получить чёткое и полное понимание своей задачи.', 'Заказчик редактирует техническое задание (ТЗ) непосредственно в интерфейсе чат-бота или в облачном документе, чтобы внести необходимые изменения без необходимости повторного прохождения всего цикла обсуждения.', 'Заказчик экспортирует готовое техническое задание (ТЗ) в формате PDF или DOCX, чтобы передать его команде разработчиков для начала работ над проектом.', 'Пользователь получает рекомендации и подсказки от системы во время составления технического задания (ТЗ), чтобы избежать типичных ошибок и улучшить качество документа.', 'Заказчик использует веб-сервис для доступа к функционалу чат-бота и управления техническим заданием (ТЗ) с любого устройства, поддерживающего браузер.']
[2025-08-10 06:48:18.129865] Статус: Операция выполнена успешно.
[2025-08-10 06:48:18.129953] --------------------
[2025-08-10 06:48:18.130033] 6. Постобработка ответа от LLM-агента.
[2025-08-10 06:48:18.130350] Результат:
[UserStory(id='c5c0e', statement='Заказчик формирует техническое задание (ТЗ) для своего цифрового продукта посредством ведения диалога с чат-ботом, чтобы получить чёткое и полное понимание своей задачи.', related_scenario_ids=[]), UserStory(id='1d439', statement='Заказчик редактирует техническое задание (ТЗ) непосредственно в интерфейсе чат-бота или в облачном документе, чтобы внести необходимые изменения без необходимости повторного прохождения всего цикла обсуждения.', related_scenario_ids=[]), UserStory(id='fafea', statement='Заказчик экспортирует готовое техническое задание (ТЗ) в формате PDF или DOCX, чтобы передать его команде разработчиков для начала работ над проектом.', related_scenario_ids=[]), UserStory(id='90168', statement='Пользователь получает рекомендации и подсказки от системы во время составления технического задания (ТЗ), чтобы избежать типичных ошибок и улучшить качество документа.', related_scenario_ids=[]), UserStory(id='f916d', statement='Заказчик использует веб-сервис для доступа к функционалу чат-бота и управления техническим заданием (ТЗ) с любого устройства, поддерживающего браузер.', related_scenario_ids=[])]
[2025-08-10 06:48:18.130470] Статус: Операция выполнена успешно.
[2025-08-10 15:13:39.224428] ====================
[2025-08-10 15:13:39.234541] 1. Предобработка данных для их дальнейшней вставки в user-prompt...
[2025-08-10 15:13:39.234931] Результат:
{
 "task_goal": "Разработка чат-бота и веб-сервиса, обеспечивающих автоматизированную поддержку заказчиков цифровых продуктов в процессе формирования корректного технического задания (ТЗ), посредством ведения уточняющего диалога и последующего экспорта готового документа в форматах PDF и DOCX. Система должна функционировать на базе GigaChat и интегрироваться с облачной платформой партнера через API, обеспечивая возможность интерактивной доработки и сохранения документов как в диалоговом режиме, так и непосредственно в облаке. Основной целевой аудиторией являются заказчики цифровых решений, нуждающиеся в качественной подготовке технических заданий для последующей передачи их разработчикам.",
 "history": "Бизнес-аналитик: Опишите вашу задачу простыми словами.\nЗаказчик: Необходимо разработать чат-бота и веб-сервис, которые помогут заказчику формулировать корректное техническое задание (ТЗ) для создания цифрового продукта. Решение должно работать на основе GigaChat и собственной low-code платформы партнёра. Цель – автоматизация процесса уточнения требований, сокращение недопонимания между заказчиком и разработчиком, улучшение качества подготовки ТЗ.\nБизнес-аналитик: Какую проблему вы хотите решить с помощью продукта?\nЗаказчик: Работающий прототип чат-бота и веб-сервиса с функциями:  1. Ведение диалога → уточнение требований → формирование ТЗ. 2. Возможность редактирования ТЗ в диалоге и в облачном документе. 3. Экспорт ТЗ (PDF, DOCX).\nБизнес-аналитик: Какой результат вы ожидаете? (Что должно быть на выходе?)\nЗаказчик: Чат-бот и веб-сервис, которые помогут заказчику формулировать корректное техническое задание (ТЗ) для создания цифрового продукта.\nБизнес-аналитик: Кто будет пользоваться продуктом? (Целевая аудитория)\nЗаказчик: Заказчики цифровых продуктов, которым нужно специфицировать свою задачу для разработчиков.\nБизнес-аналитик: Есть ли предпочтения по технологиям или ограничения?\nЗаказчик: 1. GigaChat API. 2.Веб-интерфейс для работы на ПК и мобильных устройствах. 3. Интеграция с облачными документами (через API)\nБизнес-аналитик: Какие данные уже есть, и какие данные нужно собирать?\nЗаказчик: Никаких данных нет. Необходимо изучить литературу для выработки методологии по уточнению технического задания с целью её дальнейшей интеграции в разрабатываемый программный продукт\nБизнес-аналитик: Есть ли интеграции с другими системами?\nЗаказчик: Интеграции с внешними системами нет\nБизнес-аналитик: Какие есть дополнительные пожелания или требования?\nЗаказчик: Нет\nБизнес-аналитик: Какие критерии будут использоваться для оценки корректности сформированного технического задания (ТЗ)?\nЗаказчик: С нашей стороны критериев нет: ожидаем предложения/рекомендации с ващей стороны.",
 "us_limit": "\n## Примечание к задаче\nСформулируй не более 5 пользовательских историй."
}.
[2025-08-10 15:13:39.235126] Статус: Операция выполнена успешно.
[2025-08-10 15:13:39.235228] --------------------
[2025-08-10 15:13:39.235318] 2. Детекция используемого языка...
[2025-08-10 15:13:39.235421] Результат:
ru.
[2025-08-10 15:13:39.235514] Статус: Операция выполнена успешно.
[2025-08-10 15:13:39.235604] --------------------
[2025-08-10 15:13:39.235689] 3. Добавление информации в user-prompt...
[2025-08-10 15:13:39.235805] Результат:

# Описание назначения проекта
Разработка чат-бота и веб-сервиса, обеспечивающих автоматизированную поддержку заказчиков цифровых продуктов в процессе формирования корректного технического задания (ТЗ), посредством ведения уточняющего диалога и последующего экспорта готового документа в форматах PDF и DOCX. Система должна функционировать на базе GigaChat и интегрироваться с облачной платформой партнера через API, обеспечивая возможность интерактивной доработки и сохранения документов как в диалоговом режиме, так и непосредственно в облаке. Основной целевой аудиторией являются заказчики цифровых решений, нуждающиеся в качественной подготовке технических заданий для последующей передачи их разработчикам.
# История диалога с заказчиком
Бизнес-аналитик: Опишите вашу задачу простыми словами.
Заказчик: Необходимо разработать чат-бота и веб-сервис, которые помогут заказчику формулировать корректное техническое задание (ТЗ) для создания цифрового продукта. Решение должно работать на основе GigaChat и собственной low-code платформы партнёра. Цель – автоматизация процесса уточнения требований, сокращение недопонимания между заказчиком и разработчиком, улучшение качества подготовки ТЗ.
Бизнес-аналитик: Какую проблему вы хотите решить с помощью продукта?
Заказчик: Работающий прототип чат-бота и веб-сервиса с функциями:  1. Ведение диалога → уточнение требований → формирование ТЗ. 2. Возможность редактирования ТЗ в диалоге и в облачном документе. 3. Экспорт ТЗ (PDF, DOCX).
Бизнес-аналитик: Какой результат вы ожидаете? (Что должно быть на выходе?)
Заказчик: Чат-бот и веб-сервис, которые помогут заказчику формулировать корректное техническое задание (ТЗ) для создания цифрового продукта.
Бизнес-аналитик: Кто будет пользоваться продуктом? (Целевая аудитория)
Заказчик: Заказчики цифровых продуктов, которым нужно специфицировать свою задачу для разработчиков.
Бизнес-аналитик: Есть ли предпочтения по технологиям или ограничения?
Заказчик: 1. GigaChat API. 2.Веб-интерфейс для работы на ПК и мобильных устройствах. 3. Интеграция с облачными документами (через API)
Бизнес-аналитик: Какие данные уже есть, и какие данные нужно собирать?
Заказчик: Никаких данных нет. Необходимо изучить литературу для выработки методологии по уточнению технического задания с целью её дальнейшей интеграции в разрабатываемый программный продукт
Бизнес-аналитик: Есть ли интеграции с другими системами?
Заказчик: Интеграции с внешними системами нет
Бизнес-аналитик: Какие есть дополнительные пожелания или требования?
Заказчик: Нет
Бизнес-аналитик: Какие критерии будут использоваться для оценки корректности сформированного технического задания (ТЗ)?
Заказчик: С нашей стороны критериев нет: ожидаем предложения/рекомендации с ващей стороны.

## Примечание к задаче
Сформулируй не более 5 пользовательских историй.

[2025-08-10 15:13:39.235962] Статус: Операция выполнена успешно.
[2025-08-10 15:13:39.236054] --------------------
[2025-08-10 15:13:39.236140] 4. Генерация ответа с помощью LLM-агента.
[2025-08-10 15:13:39.236419] Выполняем инференс llm...
[2025-08-10 15:13:41.780382] Результат:
- Заказчик формирует запрос на создание технического задания через чат-бота, чтобы получить готовый документ с четко определенными требованиями.
- Пользователь взаимодействует с веб-сервисом, уточняя детали своего запроса, чтобы сформировать полное и точное техническое задание.
- Заказчик редактирует готовое техническое задание прямо в диалоге с ботом, чтобы внести необходимые изменения без необходимости повторного заполнения формы.
- Пользователь сохраняет созданное техническое задание в формате PDF или DOCX, чтобы передать его команде разработчиков.
- Заказчик работает с техническим заданием напрямую из облака через интеграцию с внешней системой хранения документов, чтобы иметь доступ к документу из любой точки.
[2025-08-10 15:13:41.780607] Статус: Операция выполнена успешно.
[2025-08-10 15:13:41.780725] --------------------
[2025-08-10 15:13:41.780822] 5. Разбор ответа, сгенерированного LLM-агентом.
[2025-08-10 15:13:41.781036] Результат:
['Заказчик формирует запрос на создание технического задания через чат-бота, чтобы получить готовый документ с четко определенными требованиями.', 'Пользователь взаимодействует с веб-сервисом, уточняя детали своего запроса, чтобы сформировать полное и точное техническое задание.', 'Заказчик редактирует готовое техническое задание прямо в диалоге с ботом, чтобы внести необходимые изменения без необходимости повторного заполнения формы.', 'Пользователь сохраняет созданное техническое задание в формате PDF или DOCX, чтобы передать его команде разработчиков.', 'Заказчик работает с техническим заданием напрямую из облака через интеграцию с внешней системой хранения документов, чтобы иметь доступ к документу из любой точки.']
[2025-08-10 15:13:41.781183] Статус: Операция выполнена успешно.
[2025-08-10 15:13:41.781278] --------------------
[2025-08-10 15:13:41.781365] 6. Постобработка ответа от LLM-агента.
[2025-08-10 15:13:41.781670] Результат:
[UserStory(id='bea9e', statement='Заказчик формирует запрос на создание технического задания через чат-бота, чтобы получить готовый документ с четко определенными требованиями.', related_scenario_ids=[]), UserStory(id='7d104', statement='Пользователь взаимодействует с веб-сервисом, уточняя детали своего запроса, чтобы сформировать полное и точное техническое задание.', related_scenario_ids=[]), UserStory(id='c956e', statement='Заказчик редактирует готовое техническое задание прямо в диалоге с ботом, чтобы внести необходимые изменения без необходимости повторного заполнения формы.', related_scenario_ids=[]), UserStory(id='fb6a9', statement='Пользователь сохраняет созданное техническое задание в формате PDF или DOCX, чтобы передать его команде разработчиков.', related_scenario_ids=[]), UserStory(id='037be', statement='Заказчик работает с техническим заданием напрямую из облака через интеграцию с внешней системой хранения документов, чтобы иметь доступ к документу из любой точки.', related_scenario_ids=[])]
[2025-08-10 15:13:41.781791] Статус: Операция выполнена успешно.
[2025-08-11 13:41:18.732439] ====================
[2025-08-11 13:41:18.732568] 1. Предобработка данных для их дальнейшней вставки в user-prompt...
[2025-08-11 13:41:18.733167] Результат:
{
 "task_goal": "Проект направлен на разработку минимально жизнеспособного продукта (MVP) — цифрового наставника, предназначенного для повышения качества взаимодействия менеджеров технической поддержки банка с клиентами. Основной задачей наставника является обеспечение эффективной внешней памяти для агентов на базе больших языковых моделей (LLM), позволяющей анализировать коммуникации, проверять предоставленную менеджерами информацию и давать рекомендации по улучшению ответов клиентам. Наставник должен поддерживать обновление и изменение графа знаний на основе структурированных и слабо структурированных данных, формировать точные ответы на запросы, а также обеспечивать валидацию и верификацию ответов менеджеров согласно установленным правилам и критериям оценки. Проект предполагает использование современных методов построения графов знаний и интеграцию различных типов данных для достижения уровня мировых стандартов (SOTA) в области разработки LLM-агентов.",
 "history": "Бизнес-аналитик: Опишите вашу задачу простыми словами.\nЗаказчик: Целью данного исследования является создание графа знаний, который может быть использован в качестве внешней памяти для таких LLM агентов банка как виртуальный тренажер для клиентских менеджеров, а также агент для обобщения обратной связи от клиентов с целью развития продуктов Банка. Одним из направлений использования такого графа является цифровой наставник, который анализирует коммуникации менеджера с клиентами Банка, проверяет информацию на основе своей базы данных (памяти) о продукте и даёт рекомендации. Существующие решения, аналогичные цифровому наставнику, такие как 3WIN-AI Training Simulator [1], представляют собой коммерческие, closed-source решения, архитектура которых закрыта.  Цифровой наставник обладает следующим функционалом: 1.\tВалидация ответа менеджера в рамках текущей коммуникации с клиентом. 2.\tКорректировка ответа менеджера в зависимости от сделанных ошибок. 3.\tРекомендация возможного ответа для клиента в рамках текущей коммуникации. 4.\tФормирование пространства памяти наставника за счёт структурированных и слабоструктурированных текстовых данных.\nБизнес-аналитик: Какую проблему вы хотите решить с помощью продукта?\nЗаказчик: В Банке разрабатываются системы анализа коммуникаций с клиентами. Среди таких систем создаются цифровые тренажеры для клиентских менеджеров, которые позволяют, отрабатывать навыки работы с клиентами, в том числе работу с возражениями, повышать квалификацию клиентских менеджеров, и в конечном итоге повышать конверсию продаж. Кроме того, системы анализа коммуникаций с клиентами позволяют развивать продукты Банка через обратную связь, включая вопросы, жалобы и предложения, таким образом обобщая клиентский опыт.  Для работы со слабоструктурированной информацией, содержащейся в коммуникациях, необходимы LLM агенты, которые должны понимать семантику сообщений и диалогов. Для того, чтобы такой агент мог накапливать знания, его нужно снабдить внешней памятью. Исследования, в том числе проведенные Сколтехом, показывают, что наиболее эффективным инструментом создания внешней памяти для LLM-агентов являются графы знаний.  Создание такого цифрового тренажера, использующего граф как внешнюю память LLM-агента, позволит значительно повысить качество работы менеджеров с клиентами, снизить отток и повысить лояльность клиентов, и таким образом позволит повысить прибыль Банка.\nБизнес-аналитик: Какой результат вы ожидаете? (Что должно быть на выходе?)\nЗаказчик: MVP цифрового наставника, который может: 1. Обновлять и изменять граф знаний с использованием данных из структурированных источников (критерий – построение графа без ошибок со внесением информации). 2. Вносить в граф знаний сущности и связи из слабоструктурированных источников (критерий – построение графа без ошибок со внесением информации). 3. Формировать ответы на основе построенного графа знаний (критерий – метрики полного совпадения (EM), F1-score). 4. Валидировать ответ менеджера на предмет корректности формата коммуникации с клиентом (критерий – F1-score). 5. Верифицировать фактологическую информацию в ответе менеджера на основе построенного графа знаний (критерий – F1-score).\nБизнес-аналитик: Кто будет пользоваться продуктом? (Целевая аудитория)\nЗаказчик: Менеджеры технической поддержки по общению с клиентами банка\nБизнес-аналитик: Есть ли предпочтения по технологиям или ограничения?\nЗаказчик: Одним из наиболее перспективных SOTA подходов является идея создания полноценной памяти агентов, построенных на основе графов. В общих фреймворках для построения и отслеживания LLM агентов, таких как LangGraph [5], есть некоторая фунциональность для работы с памятью агентов. Однако мы будем опираться на более специализированные решения.  В текущем году было представлено несколько решений по построению внешней памяти агентов на графах, среди них можно выделить две работы: Mem0 (\"mem-zero\") [6] и A-Mem: Agentic Memory [7]. В качестве бенчмарка для тестирования перечисленных решений использовался датасет LOCOMO [8], содержащий диалоги и вопросы к ним. Средняя длина диалога составляет 26000 токенов, и несмотря на то, что в настоящее время LLMs имеют возможность обработки такой длины контекста, было показано, что эффективность использования информации из контекста при генерации падает при увеличении длины контекста [9]. Таким образом, бенчмарк LOCOMO дает возможность оценить эффективность сохранения и извлечения фактов из внешней памяти для использования LLM агентом при генерации сообщений в диалоге. Граф знаний в решении AriGraph [2, 3], на котором будет базироваться данная работа, сочетает в себе как структурированные элементы (узлы и связи в семантической памяти, связи между семантическими и эпизодическими узлами), так и неструктурированные (текст в эпизодических узлах), что представляет собой потенциальное преимущество перед вышеперечисленными подходами. В работе [2] были приведены SOTA метрики (Exact Match) подхода AriGraph на датасете HotpotQA. В ходе данного проекта предполагается улучшение алгоритма извлечения и фильтрации релевантных фактов из графа знаний в системе AriGraph. Подтверждение данных предположений на бенчмарке LOCOMO будет представлять решение на уровне мировой SOTA, и будет означать существенное развитие технологий построения LLM-агентов.\nБизнес-аналитик: Какие данные уже есть, и какие данные нужно собирать?\nЗаказчик: 1. Потребуется подготовить набор текстовых документов, на основе которых цифровой тренажёр должен валидировать ответы клиентского менеджера. 2. Необходимо сформировать методологии, по которым клиентский менеджер ведёт коммуникацию\nБизнес-аналитик: Есть ли интеграции с другими системами?\nЗаказчик: Интеграции с другими системами нет\nБизнес-аналитик: Какие есть дополнительные пожелания или требования?\nЗаказчик: Поскольку для надежной архитектуры памяти необходима интеграция как структурированных, так и неструктурированных данных, такая интеграция осуществляется параллельно с концепциями семантической и эпизодической памяти. Граф знаний представляет собой сеть взаимосвязанных семантических знаний, в то время как эпизодические воспоминания отображаются в виде эпизодических ребер, которые могут связывать множество отношений внутри графа.  Построение графа, а также валидация и корректировка ответа менеджера будут реализованы в виде агентов на основе LLM. Тестирование алгоритмов планируется проводить с использованием GigaChat (при наличии доступа к вычислительным и информационным ресурсам Сбербанка), либо с LLaMA и QWEN (на мощностях Сколтеха). Финальное решение будет реализовано с использованием GigaChat. Предлагаемый подход является развитием подхода AriGraph [2, 3], и будет осуществляться исследовательской командой, в состав которой будут входить авторы данной статьи из Сколтеха.\nБизнес-аналитик: Какие критерии качества ответов агента будут использоваться помимо EM и F1-score, и каким образом они повлияют на оценку эффективности цифрового наставника?\nЗаказчик: только EM и F1-score\nБизнес-аналитик: Какие типы структурированных и слабоструктурированных данных будут использованы для формирования графа знаний, и какой объем этих данных ожидается на начальном этапе разработки MVP?\nЗаказчик: Для построения графа знаний будут использоваться только данные в текстовом формате, которые содержат информацию на естественном языке. По количеству ожидается несколько тысяч абзацев текста\nБизнес-аналитик: Какие категории информации (например, описание продуктов банка, правила взаимодействия с клиентами, часто задаваемые вопросы и т.д.) содержатся в указанных текстовых данных, и насколько детализированными они должны быть для эффективного функционирования цифрового наставника?\nЗаказчик: Думаем в этих текстах точно будет присутствовать эти категории информации: описание продуктов банка, правила взаимодействия с клиентами, часто задаваемые вопросы. Возможно что-то ешё: в рамках проекта потребуется в отдельности проанализировать имеющиеся наборы информации для её категоризации/систематизации. \nБизнес-аналитик: Какие форматы представления текстовой информации доступны сейчас (например, документы Word, PDF-файлы, веб-страницы, электронные письма)? Будет ли предоставляться доступ ко всем источникам сразу или потребуется организовать процесс сбора и подготовки данных отдельно?\nЗаказчик: Скорее всего будет предоставлен исходный набор источников сразу в формате pdf-документов\nБизнес-аналитик: Какие технические характеристики и особенности форматирования PDF-документов следует учитывать при обработке текстов (например, наличие таблиц, изображений, специфического шрифта, структуры разделов)?\nЗаказчик: из pdf-документов потребуется извлекать только абзацы текста, минуя таблицы и изображения. При этом должна распознаваться структура документа: разделы/подазделы, абзацы, заголовки\nБизнес-аналитик: Какие языки используются в предоставляемых PDF-документах, и требуется ли поддержка мультиязычности в процессе обработки и анализа текстовой информации?\nЗаказчик: в PDF-документах будут присутствовать тексты на русском языке. Поддержка мультиязычности в рамках текущего проекта не предполагается\nБизнес-аналитик: Какие существуют типичные ошибки или проблемы в текущих коммуникациях менеджеров с клиентами, которые цифровой наставник должен выявлять и исправлять в первую очередь?\nЗаказчик: Сейчас у нас нет такой информации. В рамках данного проекта это потребуется выяснить в рамках ревью с нашимы специалистами по данному вопросу.\nБизнес-аналитик: Какие временные рамки установлены для реализации MVP цифрового наставника, и каковы приоритеты этапов разработки (создание графа знаний, обучение модели, тестирование и внедрение)?\nЗаказчик: На разработку MVP выделяется 6 месяцев. Приоритетом является проектирование и разработка графа знаний, который сможет поддерживать оговоренные выше функции",
 "us_limit": "\n## Примечание к задаче\nСформулируй не более 5 пользовательских историй."
}.
[2025-08-11 13:41:18.733470] Статус: Операция выполнена успешно.
[2025-08-11 13:41:18.733578] --------------------
[2025-08-11 13:41:18.733673] 2. Детекция используемого языка...
[2025-08-11 13:41:18.733813] Результат:
ru.
[2025-08-11 13:41:18.733919] Статус: Операция выполнена успешно.
[2025-08-11 13:41:18.734014] --------------------
[2025-08-11 13:41:18.734106] 3. Добавление информации в user-prompt...
[2025-08-11 13:41:18.734236] Результат:

# Описание назначения проекта
Проект направлен на разработку минимально жизнеспособного продукта (MVP) — цифрового наставника, предназначенного для повышения качества взаимодействия менеджеров технической поддержки банка с клиентами. Основной задачей наставника является обеспечение эффективной внешней памяти для агентов на базе больших языковых моделей (LLM), позволяющей анализировать коммуникации, проверять предоставленную менеджерами информацию и давать рекомендации по улучшению ответов клиентам. Наставник должен поддерживать обновление и изменение графа знаний на основе структурированных и слабо структурированных данных, формировать точные ответы на запросы, а также обеспечивать валидацию и верификацию ответов менеджеров согласно установленным правилам и критериям оценки. Проект предполагает использование современных методов построения графов знаний и интеграцию различных типов данных для достижения уровня мировых стандартов (SOTA) в области разработки LLM-агентов.
# История диалога с заказчиком
Бизнес-аналитик: Опишите вашу задачу простыми словами.
Заказчик: Целью данного исследования является создание графа знаний, который может быть использован в качестве внешней памяти для таких LLM агентов банка как виртуальный тренажер для клиентских менеджеров, а также агент для обобщения обратной связи от клиентов с целью развития продуктов Банка. Одним из направлений использования такого графа является цифровой наставник, который анализирует коммуникации менеджера с клиентами Банка, проверяет информацию на основе своей базы данных (памяти) о продукте и даёт рекомендации. Существующие решения, аналогичные цифровому наставнику, такие как 3WIN-AI Training Simulator [1], представляют собой коммерческие, closed-source решения, архитектура которых закрыта.  Цифровой наставник обладает следующим функционалом: 1.	Валидация ответа менеджера в рамках текущей коммуникации с клиентом. 2.	Корректировка ответа менеджера в зависимости от сделанных ошибок. 3.	Рекомендация возможного ответа для клиента в рамках текущей коммуникации. 4.	Формирование пространства памяти наставника за счёт структурированных и слабоструктурированных текстовых данных.
Бизнес-аналитик: Какую проблему вы хотите решить с помощью продукта?
Заказчик: В Банке разрабатываются системы анализа коммуникаций с клиентами. Среди таких систем создаются цифровые тренажеры для клиентских менеджеров, которые позволяют, отрабатывать навыки работы с клиентами, в том числе работу с возражениями, повышать квалификацию клиентских менеджеров, и в конечном итоге повышать конверсию продаж. Кроме того, системы анализа коммуникаций с клиентами позволяют развивать продукты Банка через обратную связь, включая вопросы, жалобы и предложения, таким образом обобщая клиентский опыт.  Для работы со слабоструктурированной информацией, содержащейся в коммуникациях, необходимы LLM агенты, которые должны понимать семантику сообщений и диалогов. Для того, чтобы такой агент мог накапливать знания, его нужно снабдить внешней памятью. Исследования, в том числе проведенные Сколтехом, показывают, что наиболее эффективным инструментом создания внешней памяти для LLM-агентов являются графы знаний.  Создание такого цифрового тренажера, использующего граф как внешнюю память LLM-агента, позволит значительно повысить качество работы менеджеров с клиентами, снизить отток и повысить лояльность клиентов, и таким образом позволит повысить прибыль Банка.
Бизнес-аналитик: Какой результат вы ожидаете? (Что должно быть на выходе?)
Заказчик: MVP цифрового наставника, который может: 1. Обновлять и изменять граф знаний с использованием данных из структурированных источников (критерий – построение графа без ошибок со внесением информации). 2. Вносить в граф знаний сущности и связи из слабоструктурированных источников (критерий – построение графа без ошибок со внесением информации). 3. Формировать ответы на основе построенного графа знаний (критерий – метрики полного совпадения (EM), F1-score). 4. Валидировать ответ менеджера на предмет корректности формата коммуникации с клиентом (критерий – F1-score). 5. Верифицировать фактологическую информацию в ответе менеджера на основе построенного графа знаний (критерий – F1-score).
Бизнес-аналитик: Кто будет пользоваться продуктом? (Целевая аудитория)
Заказчик: Менеджеры технической поддержки по общению с клиентами банка
Бизнес-аналитик: Есть ли предпочтения по технологиям или ограничения?
Заказчик: Одним из наиболее перспективных SOTA подходов является идея создания полноценной памяти агентов, построенных на основе графов. В общих фреймворках для построения и отслеживания LLM агентов, таких как LangGraph [5], есть некоторая фунциональность для работы с памятью агентов. Однако мы будем опираться на более специализированные решения.  В текущем году было представлено несколько решений по построению внешней памяти агентов на графах, среди них можно выделить две работы: Mem0 ("mem-zero") [6] и A-Mem: Agentic Memory [7]. В качестве бенчмарка для тестирования перечисленных решений использовался датасет LOCOMO [8], содержащий диалоги и вопросы к ним. Средняя длина диалога составляет 26000 токенов, и несмотря на то, что в настоящее время LLMs имеют возможность обработки такой длины контекста, было показано, что эффективность использования информации из контекста при генерации падает при увеличении длины контекста [9]. Таким образом, бенчмарк LOCOMO дает возможность оценить эффективность сохранения и извлечения фактов из внешней памяти для использования LLM агентом при генерации сообщений в диалоге. Граф знаний в решении AriGraph [2, 3], на котором будет базироваться данная работа, сочетает в себе как структурированные элементы (узлы и связи в семантической памяти, связи между семантическими и эпизодическими узлами), так и неструктурированные (текст в эпизодических узлах), что представляет собой потенциальное преимущество перед вышеперечисленными подходами. В работе [2] были приведены SOTA метрики (Exact Match) подхода AriGraph на датасете HotpotQA. В ходе данного проекта предполагается улучшение алгоритма извлечения и фильтрации релевантных фактов из графа знаний в системе AriGraph. Подтверждение данных предположений на бенчмарке LOCOMO будет представлять решение на уровне мировой SOTA, и будет означать существенное развитие технологий построения LLM-агентов.
Бизнес-аналитик: Какие данные уже есть, и какие данные нужно собирать?
Заказчик: 1. Потребуется подготовить набор текстовых документов, на основе которых цифровой тренажёр должен валидировать ответы клиентского менеджера. 2. Необходимо сформировать методологии, по которым клиентский менеджер ведёт коммуникацию
Бизнес-аналитик: Есть ли интеграции с другими системами?
Заказчик: Интеграции с другими системами нет
Бизнес-аналитик: Какие есть дополнительные пожелания или требования?
Заказчик: Поскольку для надежной архитектуры памяти необходима интеграция как структурированных, так и неструктурированных данных, такая интеграция осуществляется параллельно с концепциями семантической и эпизодической памяти. Граф знаний представляет собой сеть взаимосвязанных семантических знаний, в то время как эпизодические воспоминания отображаются в виде эпизодических ребер, которые могут связывать множество отношений внутри графа.  Построение графа, а также валидация и корректировка ответа менеджера будут реализованы в виде агентов на основе LLM. Тестирование алгоритмов планируется проводить с использованием GigaChat (при наличии доступа к вычислительным и информационным ресурсам Сбербанка), либо с LLaMA и QWEN (на мощностях Сколтеха). Финальное решение будет реализовано с использованием GigaChat. Предлагаемый подход является развитием подхода AriGraph [2, 3], и будет осуществляться исследовательской командой, в состав которой будут входить авторы данной статьи из Сколтеха.
Бизнес-аналитик: Какие критерии качества ответов агента будут использоваться помимо EM и F1-score, и каким образом они повлияют на оценку эффективности цифрового наставника?
Заказчик: только EM и F1-score
Бизнес-аналитик: Какие типы структурированных и слабоструктурированных данных будут использованы для формирования графа знаний, и какой объем этих данных ожидается на начальном этапе разработки MVP?
Заказчик: Для построения графа знаний будут использоваться только данные в текстовом формате, которые содержат информацию на естественном языке. По количеству ожидается несколько тысяч абзацев текста
Бизнес-аналитик: Какие категории информации (например, описание продуктов банка, правила взаимодействия с клиентами, часто задаваемые вопросы и т.д.) содержатся в указанных текстовых данных, и насколько детализированными они должны быть для эффективного функционирования цифрового наставника?
Заказчик: Думаем в этих текстах точно будет присутствовать эти категории информации: описание продуктов банка, правила взаимодействия с клиентами, часто задаваемые вопросы. Возможно что-то ешё: в рамках проекта потребуется в отдельности проанализировать имеющиеся наборы информации для её категоризации/систематизации. 
Бизнес-аналитик: Какие форматы представления текстовой информации доступны сейчас (например, документы Word, PDF-файлы, веб-страницы, электронные письма)? Будет ли предоставляться доступ ко всем источникам сразу или потребуется организовать процесс сбора и подготовки данных отдельно?
Заказчик: Скорее всего будет предоставлен исходный набор источников сразу в формате pdf-документов
Бизнес-аналитик: Какие технические характеристики и особенности форматирования PDF-документов следует учитывать при обработке текстов (например, наличие таблиц, изображений, специфического шрифта, структуры разделов)?
Заказчик: из pdf-документов потребуется извлекать только абзацы текста, минуя таблицы и изображения. При этом должна распознаваться структура документа: разделы/подазделы, абзацы, заголовки
Бизнес-аналитик: Какие языки используются в предоставляемых PDF-документах, и требуется ли поддержка мультиязычности в процессе обработки и анализа текстовой информации?
Заказчик: в PDF-документах будут присутствовать тексты на русском языке. Поддержка мультиязычности в рамках текущего проекта не предполагается
Бизнес-аналитик: Какие существуют типичные ошибки или проблемы в текущих коммуникациях менеджеров с клиентами, которые цифровой наставник должен выявлять и исправлять в первую очередь?
Заказчик: Сейчас у нас нет такой информации. В рамках данного проекта это потребуется выяснить в рамках ревью с нашимы специалистами по данному вопросу.
Бизнес-аналитик: Какие временные рамки установлены для реализации MVP цифрового наставника, и каковы приоритеты этапов разработки (создание графа знаний, обучение модели, тестирование и внедрение)?
Заказчик: На разработку MVP выделяется 6 месяцев. Приоритетом является проектирование и разработка графа знаний, который сможет поддерживать оговоренные выше функции

## Примечание к задаче
Сформулируй не более 5 пользовательских историй.

[2025-08-11 13:41:18.734522] Статус: Операция выполнена успешно.
[2025-08-11 13:41:18.734622] --------------------
[2025-08-11 13:41:18.734715] 4. Генерация ответа с помощью LLM-агента.
[2025-08-11 13:41:18.735146] Выполняем инференс llm...
[2025-08-11 13:41:22.587849] Результат:
- Менеджер технической поддержки использует цифрового наставника для проверки правильности своего ответа клиенту, чтобы избежать предоставления некорректной информации и улучшить взаимодействие с клиентом.
- Менеджер технической поддержки получает рекомендацию от цифрового наставника относительно возможных вариантов ответа на запрос клиента, чтобы обеспечить высокое качество обслуживания.
- Специалист отдела аналитики загружает новые данные в систему цифрового наставника для обновления графа знаний, чтобы поддерживать актуальность рекомендаций и проверок.
- Руководитель подразделения оценивает результаты работы цифрового наставника, используя показатели точности (F1-score и Exact Match), чтобы убедиться в повышении качества обслуживания клиентов.
- Разработчики настраивают параметры цифрового наставника, интегрируя различные источники данных и обучая модель на их основе, чтобы оптимизировать производительность и точность рекомендаций наставника.
[2025-08-11 13:41:22.588069] Статус: Операция выполнена успешно.
[2025-08-11 13:41:22.588195] --------------------
[2025-08-11 13:41:22.588299] 5. Разбор ответа, сгенерированного LLM-агентом.
[2025-08-11 13:41:22.588512] Результат:
['Менеджер технической поддержки использует цифрового наставника для проверки правильности своего ответа клиенту, чтобы избежать предоставления некорректной информации и улучшить взаимодействие с клиентом.', 'Менеджер технической поддержки получает рекомендацию от цифрового наставника относительно возможных вариантов ответа на запрос клиента, чтобы обеспечить высокое качество обслуживания.', 'Специалист отдела аналитики загружает новые данные в систему цифрового наставника для обновления графа знаний, чтобы поддерживать актуальность рекомендаций и проверок.', 'Руководитель подразделения оценивает результаты работы цифрового наставника, используя показатели точности (F1-score и Exact Match), чтобы убедиться в повышении качества обслуживания клиентов.', 'Разработчики настраивают параметры цифрового наставника, интегрируя различные источники данных и обучая модель на их основе, чтобы оптимизировать производительность и точность рекомендаций наставника.']
[2025-08-11 13:41:22.588666] Статус: Операция выполнена успешно.
[2025-08-11 13:41:22.588770] --------------------
[2025-08-11 13:41:22.588866] 6. Постобработка ответа от LLM-агента.
[2025-08-11 13:41:22.589193] Результат:
[UserStory(id='f8230', statement='Менеджер технической поддержки использует цифрового наставника для проверки правильности своего ответа клиенту, чтобы избежать предоставления некорректной информации и улучшить взаимодействие с клиентом.', related_scenario_ids=[]), UserStory(id='2d36c', statement='Менеджер технической поддержки получает рекомендацию от цифрового наставника относительно возможных вариантов ответа на запрос клиента, чтобы обеспечить высокое качество обслуживания.', related_scenario_ids=[]), UserStory(id='adeec', statement='Специалист отдела аналитики загружает новые данные в систему цифрового наставника для обновления графа знаний, чтобы поддерживать актуальность рекомендаций и проверок.', related_scenario_ids=[]), UserStory(id='14b77', statement='Руководитель подразделения оценивает результаты работы цифрового наставника, используя показатели точности (F1-score и Exact Match), чтобы убедиться в повышении качества обслуживания клиентов.', related_scenario_ids=[]), UserStory(id='fae80', statement='Разработчики настраивают параметры цифрового наставника, интегрируя различные источники данных и обучая модель на их основе, чтобы оптимизировать производительность и точность рекомендаций наставника.', related_scenario_ids=[])]
[2025-08-11 13:41:22.589341] Статус: Операция выполнена успешно.
[2025-08-19 14:52:35.418202] ====================
[2025-08-19 14:52:35.436226] 1. Предобработка данных для их дальнейшней вставки в user-prompt...
[2025-08-19 14:52:35.436837] Результат:
{
 "task_goal": "Разработать программную библиотеку – цифрового наставника, предназначенного для повышения эффективности взаимодействия клиентских менеджеров с клиентами Банка путем анализа коммуникаций, валидации и коррекции ответов менеджеров, а также предоставления рекомендаций по возможным ответам клиентам. Система будет использовать граф знаний в качестве внешней памяти агента на базе больших языковых моделей (LLM), обеспечивая интеграцию структурированных и неструктурированных данных для эффективного хранения и обработки информации о продуктах Банка, правилах общения с клиентами и истории диалогов. Решение направлено на повышение квалификации менеджеров, снижение оттока клиентов и увеличение лояльности, что положительно скажется на прибыли Банка. Библиотека будет протестирована на специализированных бенчмарках и оптимизирована под использование модели GigaChat.",
 "history": "Бизнес-аналитик: Опишите вашу задачу простыми словами.\nЗаказчик: Необъодимо разработать цифрового наставника, который анализирует коммуникации менеджера с клиентами Банка, проверяет информацию на основе своей базы знаний (памяти) о продукте и даёт рекомендации. Наставник должен поддерживать обновление и изменение графа знаний, а также обеспечивать валидацию и верификацию ответов менеджеров согласно установленным правилам и критериям оценки.\nБизнес-аналитик: Какую проблему вы хотите решить с помощью продукта?\nЗаказчик: В Банке разрабатываются системы анализа коммуникаций с клиентами. Среди таких систем создаются цифровые тренажеры для клиентских менеджеров, которые позволяют, отрабатывать навыки работы с клиентами, в том числе работу с возражениями, повышать квалификацию клиентских менеджеров, и в конечном итоге повышать конверсию продаж. Кроме того, системы анализа коммуникаций с клиентами позволяют развивать продукты Банка через обратную связь, включая вопросы, жалобы и предложения, таким образом обобщая клиентский опыт.  Для работы со слабоструктурированной информацией, содержащейся в коммуникациях, необходимы LLM агенты, которые должны понимать семантику сообщений и диалогов. Для того, чтобы такой агент мог накапливать знания, его нужно снабдить внешней памятью. Исследования, в том числе проведенные Сколтехом, показывают, что наиболее эффективным инструментом создания внешней памяти для LLM-агентов являются графы знаний.  Создание такого цифрового тренажера, использующего граф как внешнюю память LLM-агента, позволит значительно повысить качество работы менеджеров с клиентами, снизить отток и повысить лояльность клиентов, и таким образом позволит повысить прибыль Банка.\nБизнес-аналитик: Какой результат вы ожидаете? (Что должно быть на выходе?)\nЗаказчик: Программную библиотеку с следующим фцнкионалом: (1) валидация ответа менеджера в рамках текущей коммуникации с клиентом; (2) корректировка ответа менеджера в зависимости от сделанных ошибок; (3) рекомендация возможного ответа менеджера для клиента в рамках текущей коммуникации; (4) формирование пространства памяти цифрового наставника на основе графов знаний, которая будет хранить текущую историю диалога менеджера с клиентом, правила/манифест общения с клиентом и техническую/сопроводительную информацию об услугах банка, на которую должен обуславливаться менеджер (и цифровой наставник) при генерации ответов на вопросы клиента\nБизнес-аналитик: Кто будет пользоваться продуктом? (Целевая аудитория)\nЗаказчик: Продуктом будут пользоваться клиентские менеджеры для проверки/валидации своих ответов и получения базовых вариантов ответа для клиентов на их вопросы \nБизнес-аналитик: Есть ли предпочтения по технологиям или ограничения?\nЗаказчик: Одним из наиболее перспективных SOTA подходов является идея создания полноценной памяти агентов, построенных на основе графов. В общих фреймворках для построения и отслеживания LLM агентов, таких как LangGraph [5], есть некоторая фунциональность для работы с памятью агентов. Однако мы будем опираться на более специализированные решения.  В текущем году было представлено несколько решений по построению внешней памяти агентов на графах, среди них можно выделить две работы: Mem0 (\"mem-zero\") [6] и A-Mem: Agentic Memory [7]. В качестве бенчмарка для тестирования перечисленных решений использовался датасет LOCOMO [8], содержащий диалоги и вопросы к ним. Средняя длина диалога составляет 26000 токенов, и несмотря на то, что в настоящее время LLMs имеют возможность обработки такой длины контекста, было показано, что эффективность использования информации из контекста при генерации падает при увеличении длины контекста [9]. Таким образом, бенчмарк LOCOMO дает возможность оценить эффективность сохранения и извлечения фактов из внешней памяти для использования LLM агентом при генерации сообщений в диалоге. Граф знаний в решении AriGraph [2, 3], на котором будет базироваться данная работа, сочетает в себе как структурированные элементы (узлы и связи в семантической памяти, связи между семантическими и эпизодическими узлами), так и неструктурированные (текст в эпизодических узлах), что представляет собой потенциальное преимущество перед вышеперечисленными подходами. В работе [2] были приведены SOTA метрики (Exact Match) подхода AriGraph на датасете HotpotQA. В ходе данного проекта предполагается улучшение алгоритма извлечения и фильтрации релевантных фактов из графа знаний в системе AriGraph. Подтверждение данных предположений на бенчмарке LOCOMO будет представлять решение на уровне мировой SOTA, и будет означать существенное развитие технологий построения LLM-агентов.\nБизнес-аналитик: Какие данные уже есть, и какие данные нужно собирать?\nЗаказчик: Никаких данных нет, но потебуется подготовить датасеты для оценки качества следующих функций: (1) валидация ответов клиентских менеджеров; (2) генерация рекомендаций / вариантов ответа на вопросы клиентов; (3) корректировка ответов менеджеров на вопросы клиентов\nБизнес-аналитик: Есть ли интеграции с другими системами?\nЗаказчик: Интеграции с другими системами нет\nБизнес-аналитик: Какие есть дополнительные пожелания или требования?\nЗаказчик: Поскольку для надежной архитектуры памяти необходима интеграция как структурированных, так и неструктурированных данных, такая интеграция осуществляется параллельно с концепциями семантической и эпизодической памяти. Граф знаний представляет собой сеть взаимосвязанных семантических знаний, в то время как эпизодические воспоминания отображаются в виде эпизодических ребер, которые могут связывать множество отношений внутри графа.  Построение графа, а также валидация и корректировка ответа менеджера будут реализованы в виде агентов на основе LLM. Тестирование алгоритмов планируется проводить с использованием GigaChat (при наличии доступа к вычислительным и информационным ресурсам Сбербанка), либо с LLaMA и QWEN (на мощностях Сколтеха). Финальное решение будет реализовано с использованием GigaChat. Предлагаемый подход является развитием подхода AriGraph [2, 3], и будет осуществляться исследовательской командой, в состав которой будут входить авторы данной статьи из Сколтеха.\nБизнес-аналитик: Какие критерии будут использоваться для определения \"правильности\" или \"корректности\" ответов менеджеров, и кто будет ответственен за разработку этих критериев?\nЗаказчик: Мы знаем следующие метрики эффективности, за счёт которых можно выполнить оценку заявленных функций:  Faithfulness, Correctness, Relevancy, BLEU, METEOR, ROUGE. Какие метрики нам ещё стоит включить для оценки качества валидации, генерации и коррекции ответов клиентского менеджера?\nБизнес-аналитик: Какие эталонные ответы или шаблоны правильных формулировок существуют сейчас у вас в банке, которые могли бы служить основой для разработки критериев правильности и корректности ответов менеджеров?\nЗаказчик: У нас нет эталонных ответов. Такой датасет потребуется подготовить для оценки качества функциональности, указанной ранее.\nБизнес-аналитик: Какие источники информации будут использованы для формирования эталонных ответов и правил общения с клиентами, которые лягут в основу обучающего датасета и критериев оценки качества работы цифрового наставника?\nЗаказчик: Можно брать любые источники. Необходимо, чтобы заявленный функционал системы был переимспольем: возможна итеграция в другие предметные области и для других кейсов.\nБизнес-аналитик: Какие конкретные шаги и методы планируете использовать для сбора и подготовки данных, необходимых для формирования эталонных ответов и правил общения с клиентами, учитывая отсутствие готовых источников этой информации в вашем банке?\nЗаказчик: Потребуется отобрать базовые QA-датасеты. Далее на их основе синтезировать вопросно-ответные пары для оценки качества функционала по валидации, генерации, коррекции ответов клиентских  менеджеров\nБизнес-аналитик: Какие именно QA-датасеты планируется использовать в качестве основы для синтеза вопросно-ответных пар, и каким образом будет обеспечиваться соответствие этих наборов данных специфике продуктов и услуг вашего банка?\nЗаказчик: Мы пока не знаем какие датаскты будут использованы. Для оценки качества нам не важна специфика датасета\nБизнес-аналитик: Какие подходы и инструменты планируется применять для обеспечения репрезентативности и разнообразия синтетически созданных вопросно-ответных пар, чтобы они максимально полно отражали реальные сценарии взаимодействия менеджеров с клиентами?\nЗаказчик: Мы пока не знаем. Какие варианты можете предложить?",
 "us_limit": "\n## Примечание к задаче\nСформулируй не более 5 пользовательских историй."
}.
[2025-08-19 14:52:35.437135] Статус: Операция выполнена успешно.
[2025-08-19 14:52:35.437243] --------------------
[2025-08-19 14:52:35.437336] 2. Детекция используемого языка...
[2025-08-19 14:52:35.437465] Результат:
ru.
[2025-08-19 14:52:35.437566] Статус: Операция выполнена успешно.
[2025-08-19 14:52:35.437657] --------------------
[2025-08-19 14:52:35.437744] 3. Добавление информации в user-prompt...
[2025-08-19 14:52:35.437866] Результат:

# Описание назначения проекта
Разработать программную библиотеку – цифрового наставника, предназначенного для повышения эффективности взаимодействия клиентских менеджеров с клиентами Банка путем анализа коммуникаций, валидации и коррекции ответов менеджеров, а также предоставления рекомендаций по возможным ответам клиентам. Система будет использовать граф знаний в качестве внешней памяти агента на базе больших языковых моделей (LLM), обеспечивая интеграцию структурированных и неструктурированных данных для эффективного хранения и обработки информации о продуктах Банка, правилах общения с клиентами и истории диалогов. Решение направлено на повышение квалификации менеджеров, снижение оттока клиентов и увеличение лояльности, что положительно скажется на прибыли Банка. Библиотека будет протестирована на специализированных бенчмарках и оптимизирована под использование модели GigaChat.
# История диалога с заказчиком
Бизнес-аналитик: Опишите вашу задачу простыми словами.
Заказчик: Необъодимо разработать цифрового наставника, который анализирует коммуникации менеджера с клиентами Банка, проверяет информацию на основе своей базы знаний (памяти) о продукте и даёт рекомендации. Наставник должен поддерживать обновление и изменение графа знаний, а также обеспечивать валидацию и верификацию ответов менеджеров согласно установленным правилам и критериям оценки.
Бизнес-аналитик: Какую проблему вы хотите решить с помощью продукта?
Заказчик: В Банке разрабатываются системы анализа коммуникаций с клиентами. Среди таких систем создаются цифровые тренажеры для клиентских менеджеров, которые позволяют, отрабатывать навыки работы с клиентами, в том числе работу с возражениями, повышать квалификацию клиентских менеджеров, и в конечном итоге повышать конверсию продаж. Кроме того, системы анализа коммуникаций с клиентами позволяют развивать продукты Банка через обратную связь, включая вопросы, жалобы и предложения, таким образом обобщая клиентский опыт.  Для работы со слабоструктурированной информацией, содержащейся в коммуникациях, необходимы LLM агенты, которые должны понимать семантику сообщений и диалогов. Для того, чтобы такой агент мог накапливать знания, его нужно снабдить внешней памятью. Исследования, в том числе проведенные Сколтехом, показывают, что наиболее эффективным инструментом создания внешней памяти для LLM-агентов являются графы знаний.  Создание такого цифрового тренажера, использующего граф как внешнюю память LLM-агента, позволит значительно повысить качество работы менеджеров с клиентами, снизить отток и повысить лояльность клиентов, и таким образом позволит повысить прибыль Банка.
Бизнес-аналитик: Какой результат вы ожидаете? (Что должно быть на выходе?)
Заказчик: Программную библиотеку с следующим фцнкионалом: (1) валидация ответа менеджера в рамках текущей коммуникации с клиентом; (2) корректировка ответа менеджера в зависимости от сделанных ошибок; (3) рекомендация возможного ответа менеджера для клиента в рамках текущей коммуникации; (4) формирование пространства памяти цифрового наставника на основе графов знаний, которая будет хранить текущую историю диалога менеджера с клиентом, правила/манифест общения с клиентом и техническую/сопроводительную информацию об услугах банка, на которую должен обуславливаться менеджер (и цифровой наставник) при генерации ответов на вопросы клиента
Бизнес-аналитик: Кто будет пользоваться продуктом? (Целевая аудитория)
Заказчик: Продуктом будут пользоваться клиентские менеджеры для проверки/валидации своих ответов и получения базовых вариантов ответа для клиентов на их вопросы 
Бизнес-аналитик: Есть ли предпочтения по технологиям или ограничения?
Заказчик: Одним из наиболее перспективных SOTA подходов является идея создания полноценной памяти агентов, построенных на основе графов. В общих фреймворках для построения и отслеживания LLM агентов, таких как LangGraph [5], есть некоторая фунциональность для работы с памятью агентов. Однако мы будем опираться на более специализированные решения.  В текущем году было представлено несколько решений по построению внешней памяти агентов на графах, среди них можно выделить две работы: Mem0 ("mem-zero") [6] и A-Mem: Agentic Memory [7]. В качестве бенчмарка для тестирования перечисленных решений использовался датасет LOCOMO [8], содержащий диалоги и вопросы к ним. Средняя длина диалога составляет 26000 токенов, и несмотря на то, что в настоящее время LLMs имеют возможность обработки такой длины контекста, было показано, что эффективность использования информации из контекста при генерации падает при увеличении длины контекста [9]. Таким образом, бенчмарк LOCOMO дает возможность оценить эффективность сохранения и извлечения фактов из внешней памяти для использования LLM агентом при генерации сообщений в диалоге. Граф знаний в решении AriGraph [2, 3], на котором будет базироваться данная работа, сочетает в себе как структурированные элементы (узлы и связи в семантической памяти, связи между семантическими и эпизодическими узлами), так и неструктурированные (текст в эпизодических узлах), что представляет собой потенциальное преимущество перед вышеперечисленными подходами. В работе [2] были приведены SOTA метрики (Exact Match) подхода AriGraph на датасете HotpotQA. В ходе данного проекта предполагается улучшение алгоритма извлечения и фильтрации релевантных фактов из графа знаний в системе AriGraph. Подтверждение данных предположений на бенчмарке LOCOMO будет представлять решение на уровне мировой SOTA, и будет означать существенное развитие технологий построения LLM-агентов.
Бизнес-аналитик: Какие данные уже есть, и какие данные нужно собирать?
Заказчик: Никаких данных нет, но потебуется подготовить датасеты для оценки качества следующих функций: (1) валидация ответов клиентских менеджеров; (2) генерация рекомендаций / вариантов ответа на вопросы клиентов; (3) корректировка ответов менеджеров на вопросы клиентов
Бизнес-аналитик: Есть ли интеграции с другими системами?
Заказчик: Интеграции с другими системами нет
Бизнес-аналитик: Какие есть дополнительные пожелания или требования?
Заказчик: Поскольку для надежной архитектуры памяти необходима интеграция как структурированных, так и неструктурированных данных, такая интеграция осуществляется параллельно с концепциями семантической и эпизодической памяти. Граф знаний представляет собой сеть взаимосвязанных семантических знаний, в то время как эпизодические воспоминания отображаются в виде эпизодических ребер, которые могут связывать множество отношений внутри графа.  Построение графа, а также валидация и корректировка ответа менеджера будут реализованы в виде агентов на основе LLM. Тестирование алгоритмов планируется проводить с использованием GigaChat (при наличии доступа к вычислительным и информационным ресурсам Сбербанка), либо с LLaMA и QWEN (на мощностях Сколтеха). Финальное решение будет реализовано с использованием GigaChat. Предлагаемый подход является развитием подхода AriGraph [2, 3], и будет осуществляться исследовательской командой, в состав которой будут входить авторы данной статьи из Сколтеха.
Бизнес-аналитик: Какие критерии будут использоваться для определения "правильности" или "корректности" ответов менеджеров, и кто будет ответственен за разработку этих критериев?
Заказчик: Мы знаем следующие метрики эффективности, за счёт которых можно выполнить оценку заявленных функций:  Faithfulness, Correctness, Relevancy, BLEU, METEOR, ROUGE. Какие метрики нам ещё стоит включить для оценки качества валидации, генерации и коррекции ответов клиентского менеджера?
Бизнес-аналитик: Какие эталонные ответы или шаблоны правильных формулировок существуют сейчас у вас в банке, которые могли бы служить основой для разработки критериев правильности и корректности ответов менеджеров?
Заказчик: У нас нет эталонных ответов. Такой датасет потребуется подготовить для оценки качества функциональности, указанной ранее.
Бизнес-аналитик: Какие источники информации будут использованы для формирования эталонных ответов и правил общения с клиентами, которые лягут в основу обучающего датасета и критериев оценки качества работы цифрового наставника?
Заказчик: Можно брать любые источники. Необходимо, чтобы заявленный функционал системы был переимспольем: возможна итеграция в другие предметные области и для других кейсов.
Бизнес-аналитик: Какие конкретные шаги и методы планируете использовать для сбора и подготовки данных, необходимых для формирования эталонных ответов и правил общения с клиентами, учитывая отсутствие готовых источников этой информации в вашем банке?
Заказчик: Потребуется отобрать базовые QA-датасеты. Далее на их основе синтезировать вопросно-ответные пары для оценки качества функционала по валидации, генерации, коррекции ответов клиентских  менеджеров
Бизнес-аналитик: Какие именно QA-датасеты планируется использовать в качестве основы для синтеза вопросно-ответных пар, и каким образом будет обеспечиваться соответствие этих наборов данных специфике продуктов и услуг вашего банка?
Заказчик: Мы пока не знаем какие датаскты будут использованы. Для оценки качества нам не важна специфика датасета
Бизнес-аналитик: Какие подходы и инструменты планируется применять для обеспечения репрезентативности и разнообразия синтетически созданных вопросно-ответных пар, чтобы они максимально полно отражали реальные сценарии взаимодействия менеджеров с клиентами?
Заказчик: Мы пока не знаем. Какие варианты можете предложить?

## Примечание к задаче
Сформулируй не более 5 пользовательских историй.

[2025-08-19 14:52:35.438111] Статус: Операция выполнена успешно.
[2025-08-19 14:52:35.438207] --------------------
[2025-08-19 14:52:35.438294] 4. Генерация ответа с помощью LLM-агента.
[2025-08-19 14:52:35.438697] Выполняем инференс llm...
[2025-08-19 14:52:39.237035] Результат:
- Клиентский менеджер использует систему для валидации своего ответа клиенту, чтобы убедиться, что он соответствует внутренним стандартам и требованиям Банка.
- Клиентский менеджер получает рекомендации от системы по возможному ответу на запрос клиента, если собственный ответ вызывает сомнения или требует уточнения.
- Клиентский менеджер применяет функцию корректировки ответа, предложенную системой, когда обнаруживает ошибки или несоответствия в своем первоначальном сообщении.
- Цифровой наставник обновляет свою базу знаний (граф знаний) на основе новых данных о продуктах Банка, изменениях в правилах общения с клиентами и опыте предыдущих взаимодействий.
- Руководитель отдела клиентских менеджеров оценивает результаты работы цифровых инструментов наставничества, используя показатели точности, актуальности и соответствия корпоративной политике Банка.
[2025-08-19 14:52:39.237280] Статус: Операция выполнена успешно.
[2025-08-19 14:52:39.237427] --------------------
[2025-08-19 14:52:39.237539] 5. Разбор ответа, сгенерированного LLM-агентом.
[2025-08-19 14:52:39.237758] Результат:
['Клиентский менеджер использует систему для валидации своего ответа клиенту, чтобы убедиться, что он соответствует внутренним стандартам и требованиям Банка.', 'Клиентский менеджер получает рекомендации от системы по возможному ответу на запрос клиента, если собственный ответ вызывает сомнения или требует уточнения.', 'Клиентский менеджер применяет функцию корректировки ответа, предложенную системой, когда обнаруживает ошибки или несоответствия в своем первоначальном сообщении.', 'Цифровой наставник обновляет свою базу знаний (граф знаний) на основе новых данных о продуктах Банка, изменениях в правилах общения с клиентами и опыте предыдущих взаимодействий.', 'Руководитель отдела клиентских менеджеров оценивает результаты работы цифровых инструментов наставничества, используя показатели точности, актуальности и соответствия корпоративной политике Банка.']
[2025-08-19 14:52:39.237883] Статус: Операция выполнена успешно.
[2025-08-19 14:52:39.237977] --------------------
[2025-08-19 14:52:39.238066] 6. Постобработка ответа от LLM-агента.
[2025-08-19 14:52:39.238375] Результат:
[UserStory(id='2e139', statement='Клиентский менеджер использует систему для валидации своего ответа клиенту, чтобы убедиться, что он соответствует внутренним стандартам и требованиям Банка.', related_scenario_ids=[]), UserStory(id='d0cbe', statement='Клиентский менеджер получает рекомендации от системы по возможному ответу на запрос клиента, если собственный ответ вызывает сомнения или требует уточнения.', related_scenario_ids=[]), UserStory(id='f5a9d', statement='Клиентский менеджер применяет функцию корректировки ответа, предложенную системой, когда обнаруживает ошибки или несоответствия в своем первоначальном сообщении.', related_scenario_ids=[]), UserStory(id='9ec07', statement='Цифровой наставник обновляет свою базу знаний (граф знаний) на основе новых данных о продуктах Банка, изменениях в правилах общения с клиентами и опыте предыдущих взаимодействий.', related_scenario_ids=[]), UserStory(id='48f9b', statement='Руководитель отдела клиентских менеджеров оценивает результаты работы цифровых инструментов наставничества, используя показатели точности, актуальности и соответствия корпоративной политике Банка.', related_scenario_ids=[])]
[2025-08-19 14:52:39.238521] Статус: Операция выполнена успешно.
[2025-08-19 15:59:50.451791] ====================
[2025-08-19 15:59:50.451901] 1. Предобработка данных для их дальнейшней вставки в user-prompt...
[2025-08-19 15:59:50.452338] Результат:
{
 "task_goal": "Разработать программную библиотеку – цифрового наставника, предназначенного для повышения эффективности взаимодействия клиентских менеджеров с клиентами Банка путем анализа коммуникаций, валидации и коррекции ответов менеджеров, а также предоставления рекомендаций по ответам клиентам. Система должна использовать граф знаний в качестве внешней памяти агента на базе больших языковых моделей (LLM), обеспечивая интеграцию структурированных и неструктурированных данных, необходимых для поддержки процессов принятия решений менеджерами. Решение направлено на повышение квалификации сотрудников, снижение оттока клиентов и увеличение лояльности, что способствует росту прибыли Банка. Библиотека включает функционал валидации ответов, формирования рекомендаций и корректировки ошибок менеджеров, основываясь на правилах и манифесте общения с клиентами, технической документации услуг Банка и истории текущих диалогов. Проект предполагает проведение исследований и разработку методов улучшения извлечения и фильтрации релевантной информации из графа знаний, тестирование которых будет проводиться на специализированных бенчмарках, подтверждая соответствие мировым стандартам (SOTA).",
 "history": "Бизнес-аналитик: Опишите вашу задачу простыми словами.\nЗаказчик: Необходимо разработать цифрового наставника, который анализирует коммуникации менеджера с клиентами Банка, проверяет информацию на основе своей базы знаний (памяти) о продукте и даёт рекомендации. Наставник должен поддерживать обновление и изменение графа знаний, а также обеспечивать валидацию и верификацию ответов менеджеров согласно установленным правилам и критериям оценки.\nБизнес-аналитик: Какую проблему вы хотите решить с помощью продукта?\nЗаказчик: В Банке разрабатываются системы анализа коммуникаций с клиентами. Среди таких систем создаются цифровые тренажеры для клиентских менеджеров, которые позволяют, отрабатывать навыки работы с клиентами, в том числе работу с возражениями, повышать квалификацию клиентских менеджеров, и в конечном итоге повышать конверсию продаж. Кроме того, системы анализа коммуникаций с клиентами позволяют развивать продукты Банка через обратную связь, включая вопросы, жалобы и предложения, таким образом обобщая клиентский опыт.  Для работы со слабоструктурированной информацией, содержащейся в коммуникациях, необходимы LLM агенты, которые должны понимать семантику сообщений и диалогов. Для того, чтобы такой агент мог накапливать знания, его нужно снабдить внешней памятью. Исследования, в том числе проведенные Сколтехом, показывают, что наиболее эффективным инструментом создания внешней памяти для LLM-агентов являются графы знаний.  Создание такого цифрового тренажера, использующего граф как внешнюю память LLM-агента, позволит значительно повысить качество работы менеджеров с клиентами, снизить отток и повысить лояльность клиентов, и таким образом позволит повысить прибыль Банка.\nБизнес-аналитик: Какой результат вы ожидаете? (Что должно быть на выходе?)\nЗаказчик: Программную библиотеку с следующим фцнкионалом: (1) валидация ответа менеджера в рамках текущей коммуникации с клиентом; (2) корректировка ответа менеджера в зависимости от сделанных ошибок; (3) рекомендация возможного ответа менеджера для клиента в рамках текущей коммуникации; (4) формирование пространства памяти цифрового наставника на основе графов знаний, которая будет хранить текущую историю диалога менеджера с клиентом, правила/манифест общения с клиентом и техническую/сопроводительную информацию об услугах банка, на которую должен обуславливаться менеджер (и цифровой наставник) при генерации ответов на вопросы клиента\nБизнес-аналитик: Кто будет пользоваться продуктом? (Целевая аудитория)\nЗаказчик: Продуктом будут пользоваться клиентские менеджеры для проверки/валидации своих ответов и получения базовых вариантов ответа для клиентов на их вопросы\nБизнес-аналитик: Есть ли предпочтения по технологиям или ограничения?\nЗаказчик: Одним из наиболее перспективных SOTA подходов является идея создания полноценной памяти агентов, построенных на основе графов. В общих фреймворках для построения и отслеживания LLM агентов, таких как LangGraph [5], есть некоторая фунциональность для работы с памятью агентов. Однако мы будем опираться на более специализированные решения.  В текущем году было представлено несколько решений по построению внешней памяти агентов на графах, среди них можно выделить две работы: Mem0 (\"mem-zero\") [6] и A-Mem: Agentic Memory [7]. В качестве бенчмарка для тестирования перечисленных решений использовался датасет LOCOMO [8], содержащий диалоги и вопросы к ним. Средняя длина диалога составляет 26000 токенов, и несмотря на то, что в настоящее время LLMs имеют возможность обработки такой длины контекста, было показано, что эффективность использования информации из контекста при генерации падает при увеличении длины контекста [9]. Таким образом, бенчмарк LOCOMO дает возможность оценить эффективность сохранения и извлечения фактов из внешней памяти для использования LLM агентом при генерации сообщений в диалоге. Граф знаний в решении AriGraph [2, 3], на котором будет базироваться данная работа, сочетает в себе как структурированные элементы (узлы и связи в семантической памяти, связи между семантическими и эпизодическими узлами), так и неструктурированные (текст в эпизодических узлах), что представляет собой потенциальное преимущество перед вышеперечисленными подходами. В работе [2] были приведены SOTA метрики (Exact Match) подхода AriGraph на датасете HotpotQA. В ходе данного проекта предполагается улучшение алгоритма извлечения и фильтрации релевантных фактов из графа знаний в системе AriGraph. Подтверждение данных предположений на бенчмарке LOCOMO будет представлять решение на уровне мировой SOTA, и будет означать существенное развитие технологий построения LLM-агентов.\nБизнес-аналитик: Какие данные уже есть, и какие данные нужно собирать?\nЗаказчик: Никаких данных нет, но потебуется подготовить датасеты для оценки качества следующих функций: (1) валидация ответов клиентских менеджеров; (2) генерация рекомендаций / вариантов ответа на вопросы клиентов; (3) корректировка ответов менеджеров на вопросы клиентов\nБизнес-аналитик: Есть ли интеграции с другими системами?\nЗаказчик: Интеграции с другими системами нет\nБизнес-аналитик: Какие есть дополнительные пожелания или требования?\nЗаказчик: Поскольку для надежной архитектуры памяти необходима интеграция как структурированных, так и неструктурированных данных, такая интеграция осуществляется параллельно с концепциями семантической и эпизодической памяти. Граф знаний представляет собой сеть взаимосвязанных семантических знаний, в то время как эпизодические воспоминания отображаются в виде эпизодических ребер, которые могут связывать множество отношений внутри графа.  Построение графа, а также валидация и корректировка ответа менеджера будут реализованы в виде агентов на основе LLM. Тестирование алгоритмов планируется проводить с использованием GigaChat (при наличии доступа к вычислительным и информационным ресурсам Сбербанка), либо с LLaMA и QWEN (на мощностях Сколтеха). Финальное решение будет реализовано с использованием GigaChat. Предлагаемый подход является развитием подхода AriGraph [2, 3], и будет осуществляться исследовательской командой, в состав которой будут входить авторы данной статьи из Сколтеха.",
 "us_limit": "\n## Примечание к задаче\nСформулируй не более 5 пользовательских историй."
}.
[2025-08-19 15:59:50.452581] Статус: Операция выполнена успешно.
[2025-08-19 15:59:50.452681] --------------------
[2025-08-19 15:59:50.452772] 2. Детекция используемого языка...
[2025-08-19 15:59:50.452878] Результат:
ru.
[2025-08-19 15:59:50.452976] Статус: Операция выполнена успешно.
[2025-08-19 15:59:50.453070] --------------------
[2025-08-19 15:59:50.453160] 3. Добавление информации в user-prompt...
[2025-08-19 15:59:50.453281] Результат:

# Описание назначения проекта
Разработать программную библиотеку – цифрового наставника, предназначенного для повышения эффективности взаимодействия клиентских менеджеров с клиентами Банка путем анализа коммуникаций, валидации и коррекции ответов менеджеров, а также предоставления рекомендаций по ответам клиентам. Система должна использовать граф знаний в качестве внешней памяти агента на базе больших языковых моделей (LLM), обеспечивая интеграцию структурированных и неструктурированных данных, необходимых для поддержки процессов принятия решений менеджерами. Решение направлено на повышение квалификации сотрудников, снижение оттока клиентов и увеличение лояльности, что способствует росту прибыли Банка. Библиотека включает функционал валидации ответов, формирования рекомендаций и корректировки ошибок менеджеров, основываясь на правилах и манифесте общения с клиентами, технической документации услуг Банка и истории текущих диалогов. Проект предполагает проведение исследований и разработку методов улучшения извлечения и фильтрации релевантной информации из графа знаний, тестирование которых будет проводиться на специализированных бенчмарках, подтверждая соответствие мировым стандартам (SOTA).
# История диалога с заказчиком
Бизнес-аналитик: Опишите вашу задачу простыми словами.
Заказчик: Необходимо разработать цифрового наставника, который анализирует коммуникации менеджера с клиентами Банка, проверяет информацию на основе своей базы знаний (памяти) о продукте и даёт рекомендации. Наставник должен поддерживать обновление и изменение графа знаний, а также обеспечивать валидацию и верификацию ответов менеджеров согласно установленным правилам и критериям оценки.
Бизнес-аналитик: Какую проблему вы хотите решить с помощью продукта?
Заказчик: В Банке разрабатываются системы анализа коммуникаций с клиентами. Среди таких систем создаются цифровые тренажеры для клиентских менеджеров, которые позволяют, отрабатывать навыки работы с клиентами, в том числе работу с возражениями, повышать квалификацию клиентских менеджеров, и в конечном итоге повышать конверсию продаж. Кроме того, системы анализа коммуникаций с клиентами позволяют развивать продукты Банка через обратную связь, включая вопросы, жалобы и предложения, таким образом обобщая клиентский опыт.  Для работы со слабоструктурированной информацией, содержащейся в коммуникациях, необходимы LLM агенты, которые должны понимать семантику сообщений и диалогов. Для того, чтобы такой агент мог накапливать знания, его нужно снабдить внешней памятью. Исследования, в том числе проведенные Сколтехом, показывают, что наиболее эффективным инструментом создания внешней памяти для LLM-агентов являются графы знаний.  Создание такого цифрового тренажера, использующего граф как внешнюю память LLM-агента, позволит значительно повысить качество работы менеджеров с клиентами, снизить отток и повысить лояльность клиентов, и таким образом позволит повысить прибыль Банка.
Бизнес-аналитик: Какой результат вы ожидаете? (Что должно быть на выходе?)
Заказчик: Программную библиотеку с следующим фцнкионалом: (1) валидация ответа менеджера в рамках текущей коммуникации с клиентом; (2) корректировка ответа менеджера в зависимости от сделанных ошибок; (3) рекомендация возможного ответа менеджера для клиента в рамках текущей коммуникации; (4) формирование пространства памяти цифрового наставника на основе графов знаний, которая будет хранить текущую историю диалога менеджера с клиентом, правила/манифест общения с клиентом и техническую/сопроводительную информацию об услугах банка, на которую должен обуславливаться менеджер (и цифровой наставник) при генерации ответов на вопросы клиента
Бизнес-аналитик: Кто будет пользоваться продуктом? (Целевая аудитория)
Заказчик: Продуктом будут пользоваться клиентские менеджеры для проверки/валидации своих ответов и получения базовых вариантов ответа для клиентов на их вопросы
Бизнес-аналитик: Есть ли предпочтения по технологиям или ограничения?
Заказчик: Одним из наиболее перспективных SOTA подходов является идея создания полноценной памяти агентов, построенных на основе графов. В общих фреймворках для построения и отслеживания LLM агентов, таких как LangGraph [5], есть некоторая фунциональность для работы с памятью агентов. Однако мы будем опираться на более специализированные решения.  В текущем году было представлено несколько решений по построению внешней памяти агентов на графах, среди них можно выделить две работы: Mem0 ("mem-zero") [6] и A-Mem: Agentic Memory [7]. В качестве бенчмарка для тестирования перечисленных решений использовался датасет LOCOMO [8], содержащий диалоги и вопросы к ним. Средняя длина диалога составляет 26000 токенов, и несмотря на то, что в настоящее время LLMs имеют возможность обработки такой длины контекста, было показано, что эффективность использования информации из контекста при генерации падает при увеличении длины контекста [9]. Таким образом, бенчмарк LOCOMO дает возможность оценить эффективность сохранения и извлечения фактов из внешней памяти для использования LLM агентом при генерации сообщений в диалоге. Граф знаний в решении AriGraph [2, 3], на котором будет базироваться данная работа, сочетает в себе как структурированные элементы (узлы и связи в семантической памяти, связи между семантическими и эпизодическими узлами), так и неструктурированные (текст в эпизодических узлах), что представляет собой потенциальное преимущество перед вышеперечисленными подходами. В работе [2] были приведены SOTA метрики (Exact Match) подхода AriGraph на датасете HotpotQA. В ходе данного проекта предполагается улучшение алгоритма извлечения и фильтрации релевантных фактов из графа знаний в системе AriGraph. Подтверждение данных предположений на бенчмарке LOCOMO будет представлять решение на уровне мировой SOTA, и будет означать существенное развитие технологий построения LLM-агентов.
Бизнес-аналитик: Какие данные уже есть, и какие данные нужно собирать?
Заказчик: Никаких данных нет, но потебуется подготовить датасеты для оценки качества следующих функций: (1) валидация ответов клиентских менеджеров; (2) генерация рекомендаций / вариантов ответа на вопросы клиентов; (3) корректировка ответов менеджеров на вопросы клиентов
Бизнес-аналитик: Есть ли интеграции с другими системами?
Заказчик: Интеграции с другими системами нет
Бизнес-аналитик: Какие есть дополнительные пожелания или требования?
Заказчик: Поскольку для надежной архитектуры памяти необходима интеграция как структурированных, так и неструктурированных данных, такая интеграция осуществляется параллельно с концепциями семантической и эпизодической памяти. Граф знаний представляет собой сеть взаимосвязанных семантических знаний, в то время как эпизодические воспоминания отображаются в виде эпизодических ребер, которые могут связывать множество отношений внутри графа.  Построение графа, а также валидация и корректировка ответа менеджера будут реализованы в виде агентов на основе LLM. Тестирование алгоритмов планируется проводить с использованием GigaChat (при наличии доступа к вычислительным и информационным ресурсам Сбербанка), либо с LLaMA и QWEN (на мощностях Сколтеха). Финальное решение будет реализовано с использованием GigaChat. Предлагаемый подход является развитием подхода AriGraph [2, 3], и будет осуществляться исследовательской командой, в состав которой будут входить авторы данной статьи из Сколтеха.

## Примечание к задаче
Сформулируй не более 5 пользовательских историй.

[2025-08-19 15:59:50.453569] Статус: Операция выполнена успешно.
[2025-08-19 15:59:50.453668] --------------------
[2025-08-19 15:59:50.453780] 4. Генерация ответа с помощью LLM-агента.
[2025-08-19 15:59:50.454146] Выполняем инференс llm...
[2025-08-19 15:59:54.182429] Результат:
- Клиентский менеджер использует систему для валидации своего ответа клиенту, чтобы убедиться в правильности предоставленной информации.
- Клиентский менеджер получает рекомендации от системы по возможным вариантам ответа на вопрос клиента, повышая тем самым качество обслуживания.
- Клиентский менеджер исправляет ошибки в своем ответе клиенту благодаря подсказкам и корректировкам, предоставляемым системой.
- Цифровой наставник обновляет свою базу знаний (граф знаний), интегрируя новую информацию о продуктах и услугах Банка, улучшая точность рекомендаций.
- Руководство Банка оценивает результаты внедрения библиотеки, наблюдая рост удовлетворенности клиентов и уменьшение количества жалоб.
[2025-08-19 15:59:54.182488] Статус: Операция выполнена успешно.
[2025-08-19 15:59:54.182516] --------------------
[2025-08-19 15:59:54.182539] 5. Разбор ответа, сгенерированного LLM-агентом.
[2025-08-19 15:59:54.182588] Результат:
['Клиентский менеджер использует систему для валидации своего ответа клиенту, чтобы убедиться в правильности предоставленной информации.', 'Клиентский менеджер получает рекомендации от системы по возможным вариантам ответа на вопрос клиента, повышая тем самым качество обслуживания.', 'Клиентский менеджер исправляет ошибки в своем ответе клиенту благодаря подсказкам и корректировкам, предоставляемым системой.', 'Цифровой наставник обновляет свою базу знаний (граф знаний), интегрируя новую информацию о продуктах и услугах Банка, улучшая точность рекомендаций.', 'Руководство Банка оценивает результаты внедрения библиотеки, наблюдая рост удовлетворенности клиентов и уменьшение количества жалоб.']
[2025-08-19 15:59:54.182615] Статус: Операция выполнена успешно.
[2025-08-19 15:59:54.182636] --------------------
[2025-08-19 15:59:54.182656] 6. Постобработка ответа от LLM-агента.
[2025-08-19 15:59:54.182732] Результат:
[UserStory(id='b6070', statement='Клиентский менеджер использует систему для валидации своего ответа клиенту, чтобы убедиться в правильности предоставленной информации.', related_scenario_ids=[]), UserStory(id='ee679', statement='Клиентский менеджер получает рекомендации от системы по возможным вариантам ответа на вопрос клиента, повышая тем самым качество обслуживания.', related_scenario_ids=[]), UserStory(id='4ff3f', statement='Клиентский менеджер исправляет ошибки в своем ответе клиенту благодаря подсказкам и корректировкам, предоставляемым системой.', related_scenario_ids=[]), UserStory(id='9de7b', statement='Цифровой наставник обновляет свою базу знаний (граф знаний), интегрируя новую информацию о продуктах и услугах Банка, улучшая точность рекомендаций.', related_scenario_ids=[]), UserStory(id='6af73', statement='Руководство Банка оценивает результаты внедрения библиотеки, наблюдая рост удовлетворенности клиентов и уменьшение количества жалоб.', related_scenario_ids=[])]
[2025-08-19 15:59:54.182768] Статус: Операция выполнена успешно.
[2025-08-19 16:15:17.817483] ====================
[2025-08-19 16:15:17.817592] 1. Предобработка данных для их дальнейшней вставки в user-prompt...
[2025-08-19 16:15:17.818087] Результат:
{
 "task_goal": "Разработать программную библиотеку, представляющую собой цифрового наставника для клиентских менеджеров Банка, способного анализировать коммуникации менеджеров с клиентами, проверять предоставленную менеджерами информацию на соответствие базе знаний (графу знаний), давать рекомендации и исправления ответам менеджеров. Система должна поддерживать создание и актуализацию графа знаний, используемого в качестве внешней памяти агента на основе больших языковых моделей (LLM), обеспечивая тем самым повышение квалификации сотрудников, снижение оттока клиентов и увеличение лояльности, что приведет к росту прибыли Банка. Библиотека должна включать функционал валидации ответов менеджеров, коррекции этих ответов и формирования возможных рекомендаций, основываясь на хранящейся в графе знаний технической и сопроводительной информации о продуктах Банка, правилах взаимодействия с клиентами и истории текущих диалогов. Проект предполагает использование специализированных методов построения внешней памяти агентов на графах, интеграцию структурированных и неструктурированных данных, тестирование и оптимизацию алгоритмов на актуальных бенчмарках и реализацию финального решения с применением модели GigaChat.",
 "history": "Бизнес-аналитик: Опишите вашу задачу простыми словами.\nЗаказчик: Необходимо разработать цифрового наставника, который анализирует коммуникации менеджера с клиентами Банка, проверяет информацию на основе своей базы знаний (памяти) о продукте и даёт рекомендации. Наставник должен поддерживать обновление и изменение графа знаний, а также обеспечивать валидацию и верификацию ответов менеджеров согласно установленным правилам и критериям оценки.\nБизнес-аналитик: Какую проблему вы хотите решить с помощью продукта?\nЗаказчик: В Банке разрабатываются системы анализа коммуникаций с клиентами. Среди таких систем создаются цифровые тренажеры для клиентских менеджеров, которые позволяют, отрабатывать навыки работы с клиентами, в том числе работу с возражениями, повышать квалификацию клиентских менеджеров, и в конечном итоге повышать конверсию продаж. Кроме того, системы анализа коммуникаций с клиентами позволяют развивать продукты Банка через обратную связь, включая вопросы, жалобы и предложения, таким образом обобщая клиентский опыт.  Для работы со слабоструктурированной информацией, содержащейся в коммуникациях, необходимы LLM агенты, которые должны понимать семантику сообщений и диалогов. Для того, чтобы такой агент мог накапливать знания, его нужно снабдить внешней памятью. Исследования, в том числе проведенные Сколтехом, показывают, что наиболее эффективным инструментом создания внешней памяти для LLM-агентов являются графы знаний.  Создание такого цифрового тренажера, использующего граф как внешнюю память LLM-агента, позволит значительно повысить качество работы менеджеров с клиентами, снизить отток и повысить лояльность клиентов, и таким образом позволит повысить прибыль Банка.\nБизнес-аналитик: Какой результат вы ожидаете? (Что должно быть на выходе?)\nЗаказчик: Программную библиотеку с следующим фцнкионалом: (1) валидация ответа менеджера в рамках текущей коммуникации с клиентом; (2) корректировка ответа менеджера в зависимости от сделанных ошибок; (3) рекомендация возможного ответа менеджера для клиента в рамках текущей коммуникации; (4) формирование пространства памяти цифрового наставника на основе графов знаний, которая будет хранить текущую историю диалога менеджера с клиентом, правила/манифест общения с клиентом и техническую/сопроводительную информацию об услугах банка, на которую должен обуславливаться менеджер (и цифровой наставник) при генерации ответов на вопросы клиента\nБизнес-аналитик: Кто будет пользоваться продуктом? (Целевая аудитория)\nЗаказчик: Продуктом будут пользоваться клиентские менеджеры для проверки/валидации своих ответов и получения базовых вариантов ответа для клиентов на их вопросы \nБизнес-аналитик: Есть ли предпочтения по технологиям или ограничения?\nЗаказчик: Одним из наиболее перспективных SOTA подходов является идея создания полноценной памяти агентов, построенных на основе графов. В общих фреймворках для построения и отслеживания LLM агентов, таких как LangGraph [5], есть некоторая фунциональность для работы с памятью агентов. Однако мы будем опираться на более специализированные решения.  В текущем году было представлено несколько решений по построению внешней памяти агентов на графах, среди них можно выделить две работы: Mem0 (\"mem-zero\") [6] и A-Mem: Agentic Memory [7]. В качестве бенчмарка для тестирования перечисленных решений использовался датасет LOCOMO [8], содержащий диалоги и вопросы к ним. Средняя длина диалога составляет 26000 токенов, и несмотря на то, что в настоящее время LLMs имеют возможность обработки такой длины контекста, было показано, что эффективность использования информации из контекста при генерации падает при увеличении длины контекста [9]. Таким образом, бенчмарк LOCOMO дает возможность оценить эффективность сохранения и извлечения фактов из внешней памяти для использования LLM агентом при генерации сообщений в диалоге. Граф знаний в решении AriGraph [2, 3], на котором будет базироваться данная работа, сочетает в себе как структурированные элементы (узлы и связи в семантической памяти, связи между семантическими и эпизодическими узлами), так и неструктурированные (текст в эпизодических узлах), что представляет собой потенциальное преимущество перед вышеперечисленными подходами. В работе [2] были приведены SOTA метрики (Exact Match) подхода AriGraph на датасете HotpotQA. В ходе данного проекта предполагается улучшение алгоритма извлечения и фильтрации релевантных фактов из графа знаний в системе AriGraph. Подтверждение данных предположений на бенчмарке LOCOMO будет представлять решение на уровне мировой SOTA, и будет означать существенное развитие технологий построения LLM-агентов.\nБизнес-аналитик: Какие данные уже есть, и какие данные нужно собирать?\nЗаказчик: Никаких данных нет, но потебуется подготовить датасеты для оценки качества следующих функций: (1) валидация ответов клиентских менеджеров; (2) генерация рекомендаций / вариантов ответа на вопросы клиентов; (3) корректировка ответов менеджеров на вопросы клиентов\nБизнес-аналитик: Есть ли интеграции с другими системами?\nЗаказчик: Интеграции с другими системами нет\nБизнес-аналитик: Какие есть дополнительные пожелания или требования?\nЗаказчик: Поскольку для надежной архитектуры памяти необходима интеграция как структурированных, так и неструктурированных данных, такая интеграция осуществляется параллельно с концепциями семантической и эпизодической памяти. Граф знаний представляет собой сеть взаимосвязанных семантических знаний, в то время как эпизодические воспоминания отображаются в виде эпизодических ребер, которые могут связывать множество отношений внутри графа.  Построение графа, а также валидация и корректировка ответа менеджера будут реализованы в виде агентов на основе LLM. Тестирование алгоритмов планируется проводить с использованием GigaChat (при наличии доступа к вычислительным и информационным ресурсам Сбербанка), либо с LLaMA и QWEN (на мощностях Сколтеха). Финальное решение будет реализовано с использованием GigaChat. Предлагаемый подход является развитием подхода AriGraph [2, 3], и будет осуществляться исследовательской командой, в состав которой будут входить авторы данной статьи из Сколтеха.\nБизнес-аналитик: Какие критерии оценки эффективности разработанной библиотеки будут использоваться для подтверждения достижения уровня мировой SOTA на бенчмарке LOCOMO?\nЗаказчик: Мы знаем следующие метрики эффективности, за счёт которых можно выполнить оценку заявленных функций:  Faithfulness, Correctness, Relevancy, BLEU, METEOR, ROUGE. Какие метрики нам ещё стоит включить для оценки качества валидации, генерации и коррекции ответов клиентского менеджера?\nБизнес-аналитик: Какие целевые значения каждой из указанных вами метрик (Faithfulness, Correctness, Relevancy, BLEU, METEOR, ROUGE) следует достичь, чтобы считать результаты удовлетворительными и соответствующими уровню мировой SOTA на бенчмарке LOCOMO?\nЗаказчик: Выше среднего. Конкретных значений не можем предоставить\nБизнес-аналитик: Какие конкретные шаги и методики планируете использовать для подготовки датасетов, необходимых для оценки качества функций валидации, генерации рекомендаций и корректировки ответов менеджеров?\nЗаказчик: Потребуется отобрать базовые QA-датасеты. Далее на их основе синтезировать вопросно-ответные пары для оценки качества функционала по валидации, генерации, коррекции ответов клиентских  менеджеров\nБизнес-аналитик: Какие источники данных будут использованы для отбора базовых QA-датасетов, и каким образом будет обеспечиваться репрезентативность этих наборов данных относительно реальных сценариев взаимодействия клиентских менеджеров с клиентами Банка?\nЗаказчик: Можно брать любые источники. Необходимо, чтобы заявленный функционал системы был переимспольем: возможна итеграция в другие предметные области и для других кейсов.",
 "us_limit": ""
}.
[2025-08-19 16:15:17.818337] Статус: Операция выполнена успешно.
[2025-08-19 16:15:17.818432] --------------------
[2025-08-19 16:15:17.818519] 2. Детекция используемого языка...
[2025-08-19 16:15:17.818620] Результат:
ru.
[2025-08-19 16:15:17.818713] Статус: Операция выполнена успешно.
[2025-08-19 16:15:17.818803] --------------------
[2025-08-19 16:15:17.818888] 3. Добавление информации в user-prompt...
[2025-08-19 16:15:17.819006] Результат:

# Описание назначения проекта
Разработать программную библиотеку, представляющую собой цифрового наставника для клиентских менеджеров Банка, способного анализировать коммуникации менеджеров с клиентами, проверять предоставленную менеджерами информацию на соответствие базе знаний (графу знаний), давать рекомендации и исправления ответам менеджеров. Система должна поддерживать создание и актуализацию графа знаний, используемого в качестве внешней памяти агента на основе больших языковых моделей (LLM), обеспечивая тем самым повышение квалификации сотрудников, снижение оттока клиентов и увеличение лояльности, что приведет к росту прибыли Банка. Библиотека должна включать функционал валидации ответов менеджеров, коррекции этих ответов и формирования возможных рекомендаций, основываясь на хранящейся в графе знаний технической и сопроводительной информации о продуктах Банка, правилах взаимодействия с клиентами и истории текущих диалогов. Проект предполагает использование специализированных методов построения внешней памяти агентов на графах, интеграцию структурированных и неструктурированных данных, тестирование и оптимизацию алгоритмов на актуальных бенчмарках и реализацию финального решения с применением модели GigaChat.
# История диалога с заказчиком
Бизнес-аналитик: Опишите вашу задачу простыми словами.
Заказчик: Необходимо разработать цифрового наставника, который анализирует коммуникации менеджера с клиентами Банка, проверяет информацию на основе своей базы знаний (памяти) о продукте и даёт рекомендации. Наставник должен поддерживать обновление и изменение графа знаний, а также обеспечивать валидацию и верификацию ответов менеджеров согласно установленным правилам и критериям оценки.
Бизнес-аналитик: Какую проблему вы хотите решить с помощью продукта?
Заказчик: В Банке разрабатываются системы анализа коммуникаций с клиентами. Среди таких систем создаются цифровые тренажеры для клиентских менеджеров, которые позволяют, отрабатывать навыки работы с клиентами, в том числе работу с возражениями, повышать квалификацию клиентских менеджеров, и в конечном итоге повышать конверсию продаж. Кроме того, системы анализа коммуникаций с клиентами позволяют развивать продукты Банка через обратную связь, включая вопросы, жалобы и предложения, таким образом обобщая клиентский опыт.  Для работы со слабоструктурированной информацией, содержащейся в коммуникациях, необходимы LLM агенты, которые должны понимать семантику сообщений и диалогов. Для того, чтобы такой агент мог накапливать знания, его нужно снабдить внешней памятью. Исследования, в том числе проведенные Сколтехом, показывают, что наиболее эффективным инструментом создания внешней памяти для LLM-агентов являются графы знаний.  Создание такого цифрового тренажера, использующего граф как внешнюю память LLM-агента, позволит значительно повысить качество работы менеджеров с клиентами, снизить отток и повысить лояльность клиентов, и таким образом позволит повысить прибыль Банка.
Бизнес-аналитик: Какой результат вы ожидаете? (Что должно быть на выходе?)
Заказчик: Программную библиотеку с следующим фцнкионалом: (1) валидация ответа менеджера в рамках текущей коммуникации с клиентом; (2) корректировка ответа менеджера в зависимости от сделанных ошибок; (3) рекомендация возможного ответа менеджера для клиента в рамках текущей коммуникации; (4) формирование пространства памяти цифрового наставника на основе графов знаний, которая будет хранить текущую историю диалога менеджера с клиентом, правила/манифест общения с клиентом и техническую/сопроводительную информацию об услугах банка, на которую должен обуславливаться менеджер (и цифровой наставник) при генерации ответов на вопросы клиента
Бизнес-аналитик: Кто будет пользоваться продуктом? (Целевая аудитория)
Заказчик: Продуктом будут пользоваться клиентские менеджеры для проверки/валидации своих ответов и получения базовых вариантов ответа для клиентов на их вопросы 
Бизнес-аналитик: Есть ли предпочтения по технологиям или ограничения?
Заказчик: Одним из наиболее перспективных SOTA подходов является идея создания полноценной памяти агентов, построенных на основе графов. В общих фреймворках для построения и отслеживания LLM агентов, таких как LangGraph [5], есть некоторая фунциональность для работы с памятью агентов. Однако мы будем опираться на более специализированные решения.  В текущем году было представлено несколько решений по построению внешней памяти агентов на графах, среди них можно выделить две работы: Mem0 ("mem-zero") [6] и A-Mem: Agentic Memory [7]. В качестве бенчмарка для тестирования перечисленных решений использовался датасет LOCOMO [8], содержащий диалоги и вопросы к ним. Средняя длина диалога составляет 26000 токенов, и несмотря на то, что в настоящее время LLMs имеют возможность обработки такой длины контекста, было показано, что эффективность использования информации из контекста при генерации падает при увеличении длины контекста [9]. Таким образом, бенчмарк LOCOMO дает возможность оценить эффективность сохранения и извлечения фактов из внешней памяти для использования LLM агентом при генерации сообщений в диалоге. Граф знаний в решении AriGraph [2, 3], на котором будет базироваться данная работа, сочетает в себе как структурированные элементы (узлы и связи в семантической памяти, связи между семантическими и эпизодическими узлами), так и неструктурированные (текст в эпизодических узлах), что представляет собой потенциальное преимущество перед вышеперечисленными подходами. В работе [2] были приведены SOTA метрики (Exact Match) подхода AriGraph на датасете HotpotQA. В ходе данного проекта предполагается улучшение алгоритма извлечения и фильтрации релевантных фактов из графа знаний в системе AriGraph. Подтверждение данных предположений на бенчмарке LOCOMO будет представлять решение на уровне мировой SOTA, и будет означать существенное развитие технологий построения LLM-агентов.
Бизнес-аналитик: Какие данные уже есть, и какие данные нужно собирать?
Заказчик: Никаких данных нет, но потебуется подготовить датасеты для оценки качества следующих функций: (1) валидация ответов клиентских менеджеров; (2) генерация рекомендаций / вариантов ответа на вопросы клиентов; (3) корректировка ответов менеджеров на вопросы клиентов
Бизнес-аналитик: Есть ли интеграции с другими системами?
Заказчик: Интеграции с другими системами нет
Бизнес-аналитик: Какие есть дополнительные пожелания или требования?
Заказчик: Поскольку для надежной архитектуры памяти необходима интеграция как структурированных, так и неструктурированных данных, такая интеграция осуществляется параллельно с концепциями семантической и эпизодической памяти. Граф знаний представляет собой сеть взаимосвязанных семантических знаний, в то время как эпизодические воспоминания отображаются в виде эпизодических ребер, которые могут связывать множество отношений внутри графа.  Построение графа, а также валидация и корректировка ответа менеджера будут реализованы в виде агентов на основе LLM. Тестирование алгоритмов планируется проводить с использованием GigaChat (при наличии доступа к вычислительным и информационным ресурсам Сбербанка), либо с LLaMA и QWEN (на мощностях Сколтеха). Финальное решение будет реализовано с использованием GigaChat. Предлагаемый подход является развитием подхода AriGraph [2, 3], и будет осуществляться исследовательской командой, в состав которой будут входить авторы данной статьи из Сколтеха.
Бизнес-аналитик: Какие критерии оценки эффективности разработанной библиотеки будут использоваться для подтверждения достижения уровня мировой SOTA на бенчмарке LOCOMO?
Заказчик: Мы знаем следующие метрики эффективности, за счёт которых можно выполнить оценку заявленных функций:  Faithfulness, Correctness, Relevancy, BLEU, METEOR, ROUGE. Какие метрики нам ещё стоит включить для оценки качества валидации, генерации и коррекции ответов клиентского менеджера?
Бизнес-аналитик: Какие целевые значения каждой из указанных вами метрик (Faithfulness, Correctness, Relevancy, BLEU, METEOR, ROUGE) следует достичь, чтобы считать результаты удовлетворительными и соответствующими уровню мировой SOTA на бенчмарке LOCOMO?
Заказчик: Выше среднего. Конкретных значений не можем предоставить
Бизнес-аналитик: Какие конкретные шаги и методики планируете использовать для подготовки датасетов, необходимых для оценки качества функций валидации, генерации рекомендаций и корректировки ответов менеджеров?
Заказчик: Потребуется отобрать базовые QA-датасеты. Далее на их основе синтезировать вопросно-ответные пары для оценки качества функционала по валидации, генерации, коррекции ответов клиентских  менеджеров
Бизнес-аналитик: Какие источники данных будут использованы для отбора базовых QA-датасетов, и каким образом будет обеспечиваться репрезентативность этих наборов данных относительно реальных сценариев взаимодействия клиентских менеджеров с клиентами Банка?
Заказчик: Можно брать любые источники. Необходимо, чтобы заявленный функционал системы был переимспольем: возможна итеграция в другие предметные области и для других кейсов.


[2025-08-19 16:15:17.819244] Статус: Операция выполнена успешно.
[2025-08-19 16:15:17.819338] --------------------
[2025-08-19 16:15:17.819425] 4. Генерация ответа с помощью LLM-агента.
[2025-08-19 16:15:17.819800] Выполняем инференс llm...
[2025-08-19 16:15:23.463610] Результат:
- Клиентский менеджер использует систему для валидации своего ответа клиенту, чтобы убедиться в правильности предоставляемой информации.
- Клиентский менеджер получает рекомендации от системы по улучшению формулировки ответа клиенту.
- Клиентский менеджер запрашивает у системы возможные варианты ответа на вопрос клиента.
- Цифровой наставник обновляет и изменяет граф знаний на основе новых данных и обратной связи от клиентских менеджеров.
- Цифровой наставник обеспечивает хранение и доступ к актуальной информации о продуктах Банка, правилах взаимодействия с клиентами и истории текущих диалогов.
- Разработчики используют специализированный подход для построения внешней памяти агентов на графах, интегрируя структурированные и неструктурированные данные.
- Команда исследователей проводит тестирование и оптимизацию алгоритмов на актуальных бенчмарках для оценки эффективности предложенного решения.
- Заказчик оценивает качество функционирования системы по заданным метрикам (Faithfulness, Correctness, Relevancy, BLEU, METEOR, ROUGE).
- Заказчик подтверждает достижение результатов на уровне мировой SOTA на бенчмарке LOCOMO.
- Пользователи получают возможность повторного применения созданной системы в различных предметных областях и для разных кейсов.
[2025-08-19 16:15:23.463857] Статус: Операция выполнена успешно.
[2025-08-19 16:15:23.463977] --------------------
[2025-08-19 16:15:23.464080] 5. Разбор ответа, сгенерированного LLM-агентом.
[2025-08-19 16:15:23.464330] Результат:
['Клиентский менеджер использует систему для валидации своего ответа клиенту, чтобы убедиться в правильности предоставляемой информации.', 'Клиентский менеджер получает рекомендации от системы по улучшению формулировки ответа клиенту.', 'Клиентский менеджер запрашивает у системы возможные варианты ответа на вопрос клиента.', 'Цифровой наставник обновляет и изменяет граф знаний на основе новых данных и обратной связи от клиентских менеджеров.', 'Цифровой наставник обеспечивает хранение и доступ к актуальной информации о продуктах Банка, правилах взаимодействия с клиентами и истории текущих диалогов.', 'Разработчики используют специализированный подход для построения внешней памяти агентов на графах, интегрируя структурированные и неструктурированные данные.', 'Команда исследователей проводит тестирование и оптимизацию алгоритмов на актуальных бенчмарках для оценки эффективности предложенного решения.', 'Заказчик оценивает качество функционирования системы по заданным метрикам (Faithfulness, Correctness, Relevancy, BLEU, METEOR, ROUGE).', 'Заказчик подтверждает достижение результатов на уровне мировой SOTA на бенчмарке LOCOMO.', 'Пользователи получают возможность повторного применения созданной системы в различных предметных областях и для разных кейсов.']
[2025-08-19 16:15:23.464460] Статус: Операция выполнена успешно.
[2025-08-19 16:15:23.464558] --------------------
[2025-08-19 16:15:23.464653] 6. Постобработка ответа от LLM-агента.
[2025-08-19 16:15:23.465034] Результат:
[UserStory(id='cbc74', statement='Клиентский менеджер использует систему для валидации своего ответа клиенту, чтобы убедиться в правильности предоставляемой информации.', related_scenario_ids=[]), UserStory(id='5200a', statement='Клиентский менеджер получает рекомендации от системы по улучшению формулировки ответа клиенту.', related_scenario_ids=[]), UserStory(id='32139', statement='Клиентский менеджер запрашивает у системы возможные варианты ответа на вопрос клиента.', related_scenario_ids=[]), UserStory(id='b67e2', statement='Цифровой наставник обновляет и изменяет граф знаний на основе новых данных и обратной связи от клиентских менеджеров.', related_scenario_ids=[]), UserStory(id='6d656', statement='Цифровой наставник обеспечивает хранение и доступ к актуальной информации о продуктах Банка, правилах взаимодействия с клиентами и истории текущих диалогов.', related_scenario_ids=[]), UserStory(id='9d501', statement='Разработчики используют специализированный подход для построения внешней памяти агентов на графах, интегрируя структурированные и неструктурированные данные.', related_scenario_ids=[]), UserStory(id='2fbb1', statement='Команда исследователей проводит тестирование и оптимизацию алгоритмов на актуальных бенчмарках для оценки эффективности предложенного решения.', related_scenario_ids=[]), UserStory(id='813fa', statement='Заказчик оценивает качество функционирования системы по заданным метрикам (Faithfulness, Correctness, Relevancy, BLEU, METEOR, ROUGE).', related_scenario_ids=[]), UserStory(id='5990f', statement='Заказчик подтверждает достижение результатов на уровне мировой SOTA на бенчмарке LOCOMO.', related_scenario_ids=[]), UserStory(id='bbe00', statement='Пользователи получают возможность повторного применения созданной системы в различных предметных областях и для разных кейсов.', related_scenario_ids=[])]
[2025-08-19 16:15:23.465186] Статус: Операция выполнена успешно.
[2025-08-19 16:33:26.765216] ====================
[2025-08-19 16:33:26.765322] 1. Предобработка данных для их дальнейшней вставки в user-prompt...
[2025-08-19 16:33:26.765849] Результат:
{
 "task_goal": "Разработка программной библиотеки, представляющей собой цифрового наставника для клиентских менеджеров банка, способного анализировать коммуникации менеджеров с клиентами, проверять предоставленную менеджерами информацию на соответствие базе знаний банка и давать рекомендации по улучшению взаимодействия с клиентами. Система включает механизмы обновления и изменения графа знаний, обеспечивающего хранение технической и сопроводительной информации о продуктах банка, правил общения с клиентами и истории текущих диалогов. Основной целью разработки является повышение квалификации менеджеров, снижение оттока клиентов и увеличение лояльности путем улучшения качества обслуживания и повышения эффективности коммуникаций. Библиотека обеспечит функции валидации ответов менеджеров, корректировки этих ответов и формирования рекомендаций возможных ответов в процессе текущего диалога с клиентом.",
 "history": "Бизнес-аналитик: Опишите вашу задачу простыми словами.\nЗаказчик: Необъодимо разработать цифрового наставника, который анализирует коммуникации менеджера с клиентами Банка, проверяет информацию на основе своей базы знаний (памяти) о продукте и даёт рекомендации. Наставник должен поддерживать обновление и изменение графа знаний, а также обеспечивать валидацию и верификацию ответов менеджеров согласно установленным правилам и критериям оценки.\nБизнес-аналитик: Какую проблему вы хотите решить с помощью продукта?\nЗаказчик: В Банке разрабатываются системы анализа коммуникаций с клиентами. Среди таких систем создаются цифровые тренажеры для клиентских менеджеров, которые позволяют, отрабатывать навыки работы с клиентами, в том числе работу с возражениями, повышать квалификацию клиентских менеджеров, и в конечном итоге повышать конверсию продаж. Кроме того, системы анализа коммуникаций с клиентами позволяют развивать продукты Банка через обратную связь, включая вопросы, жалобы и предложения, таким образом обобщая клиентский опыт.  Для работы со слабоструктурированной информацией, содержащейся в коммуникациях, необходимы LLM агенты, которые должны понимать семантику сообщений и диалогов. Для того, чтобы такой агент мог накапливать знания, его нужно снабдить внешней памятью. Исследования, в том числе проведенные Сколтехом, показывают, что наиболее эффективным инструментом создания внешней памяти для LLM-агентов являются графы знаний.  Создание такого цифрового тренажера, использующего граф как внешнюю память LLM-агента, позволит значительно повысить качество работы менеджеров с клиентами, снизить отток и повысить лояльность клиентов, и таким образом позволит повысить прибыль Банка.\nБизнес-аналитик: Какой результат вы ожидаете? (Что должно быть на выходе?)\nЗаказчик: Программную библиотеку с следующим фцнкионалом: (1) валидация ответа менеджера в рамках текущей коммуникации с клиентом; (2) корректировка ответа менеджера в зависимости от сделанных ошибок; (3) рекомендация возможного ответа менеджера для клиента в рамках текущей коммуникации; (4) формирование пространства памяти цифрового наставника на основе графов знаний, которая будет хранить текущую историю диалога менеджера с клиентом, правила/манифест общения с клиентом и техническую/сопроводительную информацию об услугах банка, на которую должен обуславливаться менеджер (и цифровой наставник) при генерации ответов на вопросы клиента\nБизнес-аналитик: Кто будет пользоваться продуктом? (Целевая аудитория)\nЗаказчик: Продуктом будут пользоваться клиентские менеджеры для проверки/валидации своих ответов и получения базовых вариантов ответа для клиентов на их вопросы \nБизнес-аналитик: Есть ли предпочтения по технологиям или ограничения?\nЗаказчик: Одним из наиболее перспективных SOTA подходов является идея создания полноценной памяти агентов, построенных на основе графов. В общих фреймворках для построения и отслеживания LLM агентов, таких как LangGraph [5], есть некоторая фунциональность для работы с памятью агентов. Однако мы будем опираться на более специализированные решения.  В текущем году было представлено несколько решений по построению внешней памяти агентов на графах, среди них можно выделить две работы: Mem0 (\"mem-zero\") [6] и A-Mem: Agentic Memory [7]. В качестве бенчмарка для тестирования перечисленных решений использовался датасет LOCOMO [8], содержащий диалоги и вопросы к ним. Средняя длина диалога составляет 26000 токенов, и несмотря на то, что в настоящее время LLMs имеют возможность обработки такой длины контекста, было показано, что эффективность использования информации из контекста при генерации падает при увеличении длины контекста [9]. Таким образом, бенчмарк LOCOMO дает возможность оценить эффективность сохранения и извлечения фактов из внешней памяти для использования LLM агентом при генерации сообщений в диалоге. Граф знаний в решении AriGraph [2, 3], на котором будет базироваться данная работа, сочетает в себе как структурированные элементы (узлы и связи в семантической памяти, связи между семантическими и эпизодическими узлами), так и неструктурированные (текст в эпизодических узлах), что представляет собой потенциальное преимущество перед вышеперечисленными подходами. В работе [2] были приведены SOTA метрики (Exact Match) подхода AriGraph на датасете HotpotQA. В ходе данного проекта предполагается улучшение алгоритма извлечения и фильтрации релевантных фактов из графа знаний в системе AriGraph. Подтверждение данных предположений на бенчмарке LOCOMO будет представлять решение на уровне мировой SOTA, и будет означать существенное развитие технологий построения LLM-агентов.\nБизнес-аналитик: Какие данные уже есть, и какие данные нужно собирать?\nЗаказчик: Никаких данных нет, но потебуется подготовить датасеты для оценки качества следующих функций: (1) валидация ответов клиентских менеджеров; (2) генерация рекомендаций / вариантов ответа на вопросы клиентов; (3) корректировка ответов менеджеров на вопросы клиентов\nБизнес-аналитик: Есть ли интеграции с другими системами?\nЗаказчик: Интеграции с другими системами нет\nБизнес-аналитик: Какие есть дополнительные пожелания или требования?\nЗаказчик: Поскольку для надежной архитектуры памяти необходима интеграция как структурированных, так и неструктурированных данных, такая интеграция осуществляется параллельно с концепциями семантической и эпизодической памяти. Граф знаний представляет собой сеть взаимосвязанных семантических знаний, в то время как эпизодические воспоминания отображаются в виде эпизодических ребер, которые могут связывать множество отношений внутри графа.  Построение графа, а также валидация и корректировка ответа менеджера будут реализованы в виде агентов на основе LLM. Тестирование алгоритмов планируется проводить с использованием GigaChat (при наличии доступа к вычислительным и информационным ресурсам Сбербанка), либо с LLaMA и QWEN (на мощностях Сколтеха). Финальное решение будет реализовано с использованием GigaChat. Предлагаемый подход является развитием подхода AriGraph [2, 3], и будет осуществляться исследовательской командой, в состав которой будут входить авторы данной статьи из Сколтеха.\nБизнес-аналитик: Какие критерии будут использоваться для определения \"правильного\" ответа менеджера при валидации и корректировке ответов в рамках текущего диалога с клиентом?\nЗаказчик: Мы знаем следующие метрики эффективности, за счёт которых можно выполнить оценку заявленных функций:  Faithfulness, Correctness, Relevancy, BLEU, METEOR, ROUGE. Какие метрики нам ещё стоит включить для оценки качества валидации, генерации и коррекции ответов клиентского менеджера?\nБизнес-аналитик: Какие конкретные сценарии взаимодействия клиентского менеджера с цифровым наставником следует учитывать при разработке функционала валидации, корректировки и рекомендации ответов? Например, типичные ситуации возникновения возражений у клиентов, сложные запросы или нестандартные случаи обслуживания.\nЗаказчик: (1) валидация ответа менеджера в рамках текущей коммуникации с клиентом; (2) корректировка ответа менеджера в зависимости от сделанных ошибок; (3) рекомендация возможного ответа менеджера для клиента в рамках текущей коммуникации; (4) формирование пространства памяти цифрового наставника на основе графов знаний, которая будет хранить текущую историю диалога менеджера с клиентом, правила/манифест общения с клиентом и техническую/сопроводительную информацию об услугах банка, на которую должен обуславливаться менеджер (и цифровой наставник) при генерации ответов на вопросы клиента\nБизнес-аналитик: Какие типы ошибок чаще всего допускают клиентские менеджеры при общении с клиентами, и как эти ошибки влияют на удовлетворенность клиентов и результаты бизнеса?\nЗаказчик: У нас нет такой информации\nБизнес-аналитик: Какие источники информации доступны для сбора данных о типичных ошибках клиентских менеджеров при взаимодействии с клиентами, если внутренняя статистика отсутствует?\nЗаказчик: сбор информации об ошибках не требуется",
 "us_limit": ""
}.
[2025-08-19 16:33:26.766107] Статус: Операция выполнена успешно.
[2025-08-19 16:33:26.766203] --------------------
[2025-08-19 16:33:26.766291] 2. Детекция используемого языка...
[2025-08-19 16:33:26.766394] Результат:
ru.
[2025-08-19 16:33:26.766489] Статус: Операция выполнена успешно.
[2025-08-19 16:33:26.766578] --------------------
[2025-08-19 16:33:26.766663] 3. Добавление информации в user-prompt...
[2025-08-19 16:33:26.766783] Результат:

# Описание назначения проекта
Разработка программной библиотеки, представляющей собой цифрового наставника для клиентских менеджеров банка, способного анализировать коммуникации менеджеров с клиентами, проверять предоставленную менеджерами информацию на соответствие базе знаний банка и давать рекомендации по улучшению взаимодействия с клиентами. Система включает механизмы обновления и изменения графа знаний, обеспечивающего хранение технической и сопроводительной информации о продуктах банка, правил общения с клиентами и истории текущих диалогов. Основной целью разработки является повышение квалификации менеджеров, снижение оттока клиентов и увеличение лояльности путем улучшения качества обслуживания и повышения эффективности коммуникаций. Библиотека обеспечит функции валидации ответов менеджеров, корректировки этих ответов и формирования рекомендаций возможных ответов в процессе текущего диалога с клиентом.
# История диалога с заказчиком
Бизнес-аналитик: Опишите вашу задачу простыми словами.
Заказчик: Необъодимо разработать цифрового наставника, который анализирует коммуникации менеджера с клиентами Банка, проверяет информацию на основе своей базы знаний (памяти) о продукте и даёт рекомендации. Наставник должен поддерживать обновление и изменение графа знаний, а также обеспечивать валидацию и верификацию ответов менеджеров согласно установленным правилам и критериям оценки.
Бизнес-аналитик: Какую проблему вы хотите решить с помощью продукта?
Заказчик: В Банке разрабатываются системы анализа коммуникаций с клиентами. Среди таких систем создаются цифровые тренажеры для клиентских менеджеров, которые позволяют, отрабатывать навыки работы с клиентами, в том числе работу с возражениями, повышать квалификацию клиентских менеджеров, и в конечном итоге повышать конверсию продаж. Кроме того, системы анализа коммуникаций с клиентами позволяют развивать продукты Банка через обратную связь, включая вопросы, жалобы и предложения, таким образом обобщая клиентский опыт.  Для работы со слабоструктурированной информацией, содержащейся в коммуникациях, необходимы LLM агенты, которые должны понимать семантику сообщений и диалогов. Для того, чтобы такой агент мог накапливать знания, его нужно снабдить внешней памятью. Исследования, в том числе проведенные Сколтехом, показывают, что наиболее эффективным инструментом создания внешней памяти для LLM-агентов являются графы знаний.  Создание такого цифрового тренажера, использующего граф как внешнюю память LLM-агента, позволит значительно повысить качество работы менеджеров с клиентами, снизить отток и повысить лояльность клиентов, и таким образом позволит повысить прибыль Банка.
Бизнес-аналитик: Какой результат вы ожидаете? (Что должно быть на выходе?)
Заказчик: Программную библиотеку с следующим фцнкионалом: (1) валидация ответа менеджера в рамках текущей коммуникации с клиентом; (2) корректировка ответа менеджера в зависимости от сделанных ошибок; (3) рекомендация возможного ответа менеджера для клиента в рамках текущей коммуникации; (4) формирование пространства памяти цифрового наставника на основе графов знаний, которая будет хранить текущую историю диалога менеджера с клиентом, правила/манифест общения с клиентом и техническую/сопроводительную информацию об услугах банка, на которую должен обуславливаться менеджер (и цифровой наставник) при генерации ответов на вопросы клиента
Бизнес-аналитик: Кто будет пользоваться продуктом? (Целевая аудитория)
Заказчик: Продуктом будут пользоваться клиентские менеджеры для проверки/валидации своих ответов и получения базовых вариантов ответа для клиентов на их вопросы 
Бизнес-аналитик: Есть ли предпочтения по технологиям или ограничения?
Заказчик: Одним из наиболее перспективных SOTA подходов является идея создания полноценной памяти агентов, построенных на основе графов. В общих фреймворках для построения и отслеживания LLM агентов, таких как LangGraph [5], есть некоторая фунциональность для работы с памятью агентов. Однако мы будем опираться на более специализированные решения.  В текущем году было представлено несколько решений по построению внешней памяти агентов на графах, среди них можно выделить две работы: Mem0 ("mem-zero") [6] и A-Mem: Agentic Memory [7]. В качестве бенчмарка для тестирования перечисленных решений использовался датасет LOCOMO [8], содержащий диалоги и вопросы к ним. Средняя длина диалога составляет 26000 токенов, и несмотря на то, что в настоящее время LLMs имеют возможность обработки такой длины контекста, было показано, что эффективность использования информации из контекста при генерации падает при увеличении длины контекста [9]. Таким образом, бенчмарк LOCOMO дает возможность оценить эффективность сохранения и извлечения фактов из внешней памяти для использования LLM агентом при генерации сообщений в диалоге. Граф знаний в решении AriGraph [2, 3], на котором будет базироваться данная работа, сочетает в себе как структурированные элементы (узлы и связи в семантической памяти, связи между семантическими и эпизодическими узлами), так и неструктурированные (текст в эпизодических узлах), что представляет собой потенциальное преимущество перед вышеперечисленными подходами. В работе [2] были приведены SOTA метрики (Exact Match) подхода AriGraph на датасете HotpotQA. В ходе данного проекта предполагается улучшение алгоритма извлечения и фильтрации релевантных фактов из графа знаний в системе AriGraph. Подтверждение данных предположений на бенчмарке LOCOMO будет представлять решение на уровне мировой SOTA, и будет означать существенное развитие технологий построения LLM-агентов.
Бизнес-аналитик: Какие данные уже есть, и какие данные нужно собирать?
Заказчик: Никаких данных нет, но потебуется подготовить датасеты для оценки качества следующих функций: (1) валидация ответов клиентских менеджеров; (2) генерация рекомендаций / вариантов ответа на вопросы клиентов; (3) корректировка ответов менеджеров на вопросы клиентов
Бизнес-аналитик: Есть ли интеграции с другими системами?
Заказчик: Интеграции с другими системами нет
Бизнес-аналитик: Какие есть дополнительные пожелания или требования?
Заказчик: Поскольку для надежной архитектуры памяти необходима интеграция как структурированных, так и неструктурированных данных, такая интеграция осуществляется параллельно с концепциями семантической и эпизодической памяти. Граф знаний представляет собой сеть взаимосвязанных семантических знаний, в то время как эпизодические воспоминания отображаются в виде эпизодических ребер, которые могут связывать множество отношений внутри графа.  Построение графа, а также валидация и корректировка ответа менеджера будут реализованы в виде агентов на основе LLM. Тестирование алгоритмов планируется проводить с использованием GigaChat (при наличии доступа к вычислительным и информационным ресурсам Сбербанка), либо с LLaMA и QWEN (на мощностях Сколтеха). Финальное решение будет реализовано с использованием GigaChat. Предлагаемый подход является развитием подхода AriGraph [2, 3], и будет осуществляться исследовательской командой, в состав которой будут входить авторы данной статьи из Сколтеха.
Бизнес-аналитик: Какие критерии будут использоваться для определения "правильного" ответа менеджера при валидации и корректировке ответов в рамках текущего диалога с клиентом?
Заказчик: Мы знаем следующие метрики эффективности, за счёт которых можно выполнить оценку заявленных функций:  Faithfulness, Correctness, Relevancy, BLEU, METEOR, ROUGE. Какие метрики нам ещё стоит включить для оценки качества валидации, генерации и коррекции ответов клиентского менеджера?
Бизнес-аналитик: Какие конкретные сценарии взаимодействия клиентского менеджера с цифровым наставником следует учитывать при разработке функционала валидации, корректировки и рекомендации ответов? Например, типичные ситуации возникновения возражений у клиентов, сложные запросы или нестандартные случаи обслуживания.
Заказчик: (1) валидация ответа менеджера в рамках текущей коммуникации с клиентом; (2) корректировка ответа менеджера в зависимости от сделанных ошибок; (3) рекомендация возможного ответа менеджера для клиента в рамках текущей коммуникации; (4) формирование пространства памяти цифрового наставника на основе графов знаний, которая будет хранить текущую историю диалога менеджера с клиентом, правила/манифест общения с клиентом и техническую/сопроводительную информацию об услугах банка, на которую должен обуславливаться менеджер (и цифровой наставник) при генерации ответов на вопросы клиента
Бизнес-аналитик: Какие типы ошибок чаще всего допускают клиентские менеджеры при общении с клиентами, и как эти ошибки влияют на удовлетворенность клиентов и результаты бизнеса?
Заказчик: У нас нет такой информации
Бизнес-аналитик: Какие источники информации доступны для сбора данных о типичных ошибках клиентских менеджеров при взаимодействии с клиентами, если внутренняя статистика отсутствует?
Заказчик: сбор информации об ошибках не требуется


[2025-08-19 16:33:26.767021] Статус: Операция выполнена успешно.
[2025-08-19 16:33:26.767113] --------------------
[2025-08-19 16:33:26.767197] 4. Генерация ответа с помощью LLM-агента.
[2025-08-19 16:33:26.767568] Выполняем инференс llm...
[2025-08-19 16:33:31.265920] Результат:
- Клиентский менеджер использует систему для валидации своего ответа клиенту в рамках текущей коммуникации, чтобы убедиться в правильности предоставляемой информации.
- Клиентский менеджер получает рекомендации от системы по возможным ответам на вопросы клиента в рамках текущей коммуникации, чтобы улучшить взаимодействие и повысить уровень сервиса.
- Клиентский менеджер применяет функцию корректировки своего ответа после выявления системой допущенных ошибок, чтобы избежать негативных последствий для клиента и компании.
- Цифровой наставник формирует пространство памяти на основе графов знаний, храня текущее состояние диалога, правила общения с клиентами и техническую информацию о банковских продуктах, обеспечивая контекстно-зависимые ответы менеджеру.
- Менеджер взаимодействует с системой для постоянного повышения уровня своих навыков и компетенций посредством тренировки на различных сценариях общения с клиентами.
- Руководство банка оценивает влияние внедрения цифрового наставника на показатели удержания клиентов и увеличения прибыли благодаря повышению качества обслуживания и снижению количества ошибок в коммуникациях.
[2025-08-19 16:33:31.266170] Статус: Операция выполнена успешно.
[2025-08-19 16:33:31.266287] --------------------
[2025-08-19 16:33:31.266387] 5. Разбор ответа, сгенерированного LLM-агентом.
[2025-08-19 16:33:31.266604] Результат:
['Клиентский менеджер использует систему для валидации своего ответа клиенту в рамках текущей коммуникации, чтобы убедиться в правильности предоставляемой информации.', 'Клиентский менеджер получает рекомендации от системы по возможным ответам на вопросы клиента в рамках текущей коммуникации, чтобы улучшить взаимодействие и повысить уровень сервиса.', 'Клиентский менеджер применяет функцию корректировки своего ответа после выявления системой допущенных ошибок, чтобы избежать негативных последствий для клиента и компании.', 'Цифровой наставник формирует пространство памяти на основе графов знаний, храня текущее состояние диалога, правила общения с клиентами и техническую информацию о банковских продуктах, обеспечивая контекстно-зависимые ответы менеджеру.', 'Менеджер взаимодействует с системой для постоянного повышения уровня своих навыков и компетенций посредством тренировки на различных сценариях общения с клиентами.', 'Руководство банка оценивает влияние внедрения цифрового наставника на показатели удержания клиентов и увеличения прибыли благодаря повышению качества обслуживания и снижению количества ошибок в коммуникациях.']
[2025-08-19 16:33:31.266726] Статус: Операция выполнена успешно.
[2025-08-19 16:33:31.266819] --------------------
[2025-08-19 16:33:31.266908] 6. Постобработка ответа от LLM-агента.
[2025-08-19 16:33:31.267244] Результат:
[UserStory(id='57d59', statement='Клиентский менеджер использует систему для валидации своего ответа клиенту в рамках текущей коммуникации, чтобы убедиться в правильности предоставляемой информации.', related_scenario_ids=[]), UserStory(id='c88fc', statement='Клиентский менеджер получает рекомендации от системы по возможным ответам на вопросы клиента в рамках текущей коммуникации, чтобы улучшить взаимодействие и повысить уровень сервиса.', related_scenario_ids=[]), UserStory(id='10493', statement='Клиентский менеджер применяет функцию корректировки своего ответа после выявления системой допущенных ошибок, чтобы избежать негативных последствий для клиента и компании.', related_scenario_ids=[]), UserStory(id='22f0a', statement='Цифровой наставник формирует пространство памяти на основе графов знаний, храня текущее состояние диалога, правила общения с клиентами и техническую информацию о банковских продуктах, обеспечивая контекстно-зависимые ответы менеджеру.', related_scenario_ids=[]), UserStory(id='f5301', statement='Менеджер взаимодействует с системой для постоянного повышения уровня своих навыков и компетенций посредством тренировки на различных сценариях общения с клиентами.', related_scenario_ids=[]), UserStory(id='1784a', statement='Руководство банка оценивает влияние внедрения цифрового наставника на показатели удержания клиентов и увеличения прибыли благодаря повышению качества обслуживания и снижению количества ошибок в коммуникациях.', related_scenario_ids=[])]
[2025-08-19 16:33:31.267392] Статус: Операция выполнена успешно.
