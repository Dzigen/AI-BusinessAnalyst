[2025-08-10 06:55:02.498923] ====================
[2025-08-10 06:55:02.499005] 1. Предобработка данных для их дальнейшней вставки в user-prompt...
[2025-08-10 06:55:02.499230] Результат:
{
 "history": "Бизнес-аналитик: Опишите вашу задачу простыми словами.\nЗаказчик: Необходимо разработать чат-бота и веб-сервис, которые помогут заказчику формулировать корректное техническое задание (ТЗ) для создания цифрового продукта. Решение должно работать на основе GigaChat и собственной low-code платформы партнёра. Цель – автоматизация процесса уточнения требований, сокращение недопонимания между заказчиком и разработчиком, улучшение качества подготовки ТЗ.\nБизнес-аналитик: Какую проблему вы хотите решить с помощью продукта?\nЗаказчик: Работающий прототип чат-бота и веб-сервиса с функциями:  1. Ведение диалога → уточнение требований → формирование ТЗ. 2. Возможность редактирования ТЗ в диалоге и в облачном документе. 3. Экспорт ТЗ (PDF, DOCX).\nБизнес-аналитик: Какой результат вы ожидаете? (Что должно быть на выходе?)\nЗаказчик: Чат-бот и веб-сервис, которые помогут заказчику формулировать корректное техническое задание (ТЗ) для создания цифрового продукта.\nБизнес-аналитик: Кто будет пользоваться продуктом? (Целевая аудитория)\nЗаказчик: Заказчики цифровых продуктов, которым нужно специфицировать свою задачу для разработчиков\nБизнес-аналитик: Есть ли предпочтения по технологиям или ограничения?\nЗаказчик: 1. GigaChat API. 2.Веб-интерфейс для работы на ПК и мобильных устройствах. 3. Интеграция с облачными документами (через API)\nБизнес-аналитик: Какие данные уже есть, и какие данные нужно собирать?\nЗаказчик: Никаких данных нет. Необходимо изучить литературу для выработки методологии по уточнению технического задания с целью её дальнейшей интеграции в разрабатываемый программный продукт\nБизнес-аналитик: Есть ли интеграции с другими системами?\nЗаказчик: Интеграции с внешними системами нет\nБизнес-аналитик: Какие есть дополнительные пожелания или требования?\nЗаказчик: Нет\nБизнес-аналитик: Какие критерии будут использоваться для оценки корректности сформированного технического задания (ТЗ)?\nЗаказчик: С нашей стороны критериев нет: ожидаем предложения/рекомендации с ващей стороны.\nБизнес-аналитик: Какие типы проектов предполагается охватывать вашим решением — это могут быть исключительно IT-проекты, либо также проекты из других областей деятельности (например, строительство, маркетинг)?\nЗаказчик: Разработка веб и мобильных приложений",
 "task_goal": "Разработка чат-бота и веб-сервиса, обеспечивающих автоматизированную поддержку заказчиков цифровых продуктов в процессе формирования корректного технического задания (ТЗ), что позволит сократить количество ошибок и недоразумений при передаче требований от заказчика к команде разработки, повысить качество подготовленных технических заданий и ускорить процесс их согласования. Система должна функционировать на базе GigaChat и low-code платформы партнера, поддерживать ведение диалога с пользователем для уточнения требований, возможность интерактивного редактирования ТЗ как через интерфейс чата, так и через облачный документ, а также обеспечивать экспорт сформированного документа в форматах PDF и DOCX. Целевой аудиторией являются заказчики цифровых решений, нуждающиеся в качественной подготовке технической документации перед началом реализации проектов.",
 "sr_limit": "\n## Примечание к задаче\nСформируй не более 10 системных требований."
}.
[2025-08-10 06:55:02.499346] Статус: Операция выполнена успешно.
[2025-08-10 06:55:02.499409] --------------------
[2025-08-10 06:55:02.499467] 2. Детекция используемого языка...
[2025-08-10 06:55:02.499534] Результат:
ru.
[2025-08-10 06:55:02.499596] Статус: Операция выполнена успешно.
[2025-08-10 06:55:02.499653] --------------------
[2025-08-10 06:55:02.499709] 3. Добавление информации в user-prompt...
[2025-08-10 06:55:02.499788] Результат:

# Описание назначения проекта
Разработка чат-бота и веб-сервиса, обеспечивающих автоматизированную поддержку заказчиков цифровых продуктов в процессе формирования корректного технического задания (ТЗ), что позволит сократить количество ошибок и недоразумений при передаче требований от заказчика к команде разработки, повысить качество подготовленных технических заданий и ускорить процесс их согласования. Система должна функционировать на базе GigaChat и low-code платформы партнера, поддерживать ведение диалога с пользователем для уточнения требований, возможность интерактивного редактирования ТЗ как через интерфейс чата, так и через облачный документ, а также обеспечивать экспорт сформированного документа в форматах PDF и DOCX. Целевой аудиторией являются заказчики цифровых решений, нуждающиеся в качественной подготовке технической документации перед началом реализации проектов.
# История диалога с заказчиком по проекту
Бизнес-аналитик: Опишите вашу задачу простыми словами.
Заказчик: Необходимо разработать чат-бота и веб-сервис, которые помогут заказчику формулировать корректное техническое задание (ТЗ) для создания цифрового продукта. Решение должно работать на основе GigaChat и собственной low-code платформы партнёра. Цель – автоматизация процесса уточнения требований, сокращение недопонимания между заказчиком и разработчиком, улучшение качества подготовки ТЗ.
Бизнес-аналитик: Какую проблему вы хотите решить с помощью продукта?
Заказчик: Работающий прототип чат-бота и веб-сервиса с функциями:  1. Ведение диалога → уточнение требований → формирование ТЗ. 2. Возможность редактирования ТЗ в диалоге и в облачном документе. 3. Экспорт ТЗ (PDF, DOCX).
Бизнес-аналитик: Какой результат вы ожидаете? (Что должно быть на выходе?)
Заказчик: Чат-бот и веб-сервис, которые помогут заказчику формулировать корректное техническое задание (ТЗ) для создания цифрового продукта.
Бизнес-аналитик: Кто будет пользоваться продуктом? (Целевая аудитория)
Заказчик: Заказчики цифровых продуктов, которым нужно специфицировать свою задачу для разработчиков
Бизнес-аналитик: Есть ли предпочтения по технологиям или ограничения?
Заказчик: 1. GigaChat API. 2.Веб-интерфейс для работы на ПК и мобильных устройствах. 3. Интеграция с облачными документами (через API)
Бизнес-аналитик: Какие данные уже есть, и какие данные нужно собирать?
Заказчик: Никаких данных нет. Необходимо изучить литературу для выработки методологии по уточнению технического задания с целью её дальнейшей интеграции в разрабатываемый программный продукт
Бизнес-аналитик: Есть ли интеграции с другими системами?
Заказчик: Интеграции с внешними системами нет
Бизнес-аналитик: Какие есть дополнительные пожелания или требования?
Заказчик: Нет
Бизнес-аналитик: Какие критерии будут использоваться для оценки корректности сформированного технического задания (ТЗ)?
Заказчик: С нашей стороны критериев нет: ожидаем предложения/рекомендации с ващей стороны.
Бизнес-аналитик: Какие типы проектов предполагается охватывать вашим решением — это могут быть исключительно IT-проекты, либо также проекты из других областей деятельности (например, строительство, маркетинг)?
Заказчик: Разработка веб и мобильных приложений

## Примечание к задаче
Сформируй не более 10 системных требований.

[2025-08-10 06:55:02.499896] Статус: Операция выполнена успешно.
[2025-08-10 06:55:02.499957] --------------------
[2025-08-10 06:55:02.500012] 4. Генерация ответа с помощью LLM-агента.
[2025-08-10 06:55:02.500192] Выполняем инференс llm...
[2025-08-10 06:55:06.338358] Результат:
- Поддержка ведения диалога с пользователями посредством чат-бота на платформе GigaChat для уточнения требований к цифровому продукту.
- Автоматическое сохранение результатов диалога пользователя с ботом в формате редактируемого облачного документа.
- Предоставление пользователю возможности интерактивно редактировать текст технического задания непосредственно в интерфейсе чат-бота.
- Реализация функции экспорта готового технического задания в форматы PDF и DOCX.
- Совместимость веб-интерфейса системы с устройствами различных типов (ПК, мобильные устройства).
- Использование API облачных документов для синхронизации изменений между текстом технического задания и его версией в облаке.
- Формирование рекомендаций пользователю по улучшению структуры и содержания технического задания на основании введённых им данных.
- Наличие механизма контроля целостности и логической связности информации, представленной в техническом задании.
- Сохранение истории взаимодействия каждого пользователя с системой для последующего использования в целях улучшения сервиса.
- Интуитивность пользовательского интерфейса, позволяющая пользователям без специальных навыков легко взаимодействовать с системой.
[2025-08-10 06:55:06.338570] Статус: Операция выполнена успешно.
[2025-08-10 06:55:06.338679] --------------------
[2025-08-10 06:55:06.338773] 5. Разбор ответа, сгенерированного LLM-агентом.
[2025-08-10 06:55:06.338980] Результат:
['Поддержка ведения диалога с пользователями посредством чат-бота на платформе GigaChat для уточнения требований к цифровому продукту.', 'Автоматическое сохранение результатов диалога пользователя с ботом в формате редактируемого облачного документа.', 'Предоставление пользователю возможности интерактивно редактировать текст технического задания непосредственно в интерфейсе чат-бота.', 'Реализация функции экспорта готового технического задания в форматы PDF и DOCX.', 'Совместимость веб-интерфейса системы с устройствами различных типов (ПК, мобильные устройства).', 'Использование API облачных документов для синхронизации изменений между текстом технического задания и его версией в облаке.', 'Формирование рекомендаций пользователю по улучшению структуры и содержания технического задания на основании введённых им данных.', 'Наличие механизма контроля целостности и логической связности информации, представленной в техническом задании.', 'Сохранение истории взаимодействия каждого пользователя с системой для последующего использования в целях улучшения сервиса.', 'Интуитивность пользовательского интерфейса, позволяющая пользователям без специальных навыков легко взаимодействовать с системой.']
[2025-08-10 06:55:06.339118] Статус: Операция выполнена успешно.
[2025-08-10 06:55:06.339205] --------------------
[2025-08-10 06:55:06.339286] 6. Постобработка ответа от LLM-агента.
[2025-08-10 06:55:06.339688] Результат:
[SystemRequirement(id='d0d22', statement='Поддержка ведения диалога с пользователями посредством чат-бота на платформе GigaChat для уточнения требований к цифровому продукту.', related_srestr_ids=set(), related_userstory_ids=set(), related_scenarios_ids=set()), SystemRequirement(id='5b067', statement='Автоматическое сохранение результатов диалога пользователя с ботом в формате редактируемого облачного документа.', related_srestr_ids=set(), related_userstory_ids=set(), related_scenarios_ids=set()), SystemRequirement(id='bf2b6', statement='Предоставление пользователю возможности интерактивно редактировать текст технического задания непосредственно в интерфейсе чат-бота.', related_srestr_ids=set(), related_userstory_ids=set(), related_scenarios_ids=set()), SystemRequirement(id='0c653', statement='Реализация функции экспорта готового технического задания в форматы PDF и DOCX.', related_srestr_ids=set(), related_userstory_ids=set(), related_scenarios_ids=set()), SystemRequirement(id='10708', statement='Совместимость веб-интерфейса системы с устройствами различных типов (ПК, мобильные устройства).', related_srestr_ids=set(), related_userstory_ids=set(), related_scenarios_ids=set()), SystemRequirement(id='3d920', statement='Использование API облачных документов для синхронизации изменений между текстом технического задания и его версией в облаке.', related_srestr_ids=set(), related_userstory_ids=set(), related_scenarios_ids=set()), SystemRequirement(id='742d9', statement='Формирование рекомендаций пользователю по улучшению структуры и содержания технического задания на основании введённых им данных.', related_srestr_ids=set(), related_userstory_ids=set(), related_scenarios_ids=set()), SystemRequirement(id='8af54', statement='Наличие механизма контроля целостности и логической связности информации, представленной в техническом задании.', related_srestr_ids=set(), related_userstory_ids=set(), related_scenarios_ids=set()), SystemRequirement(id='342ab', statement='Сохранение истории взаимодействия каждого пользователя с системой для последующего использования в целях улучшения сервиса.', related_srestr_ids=set(), related_userstory_ids=set(), related_scenarios_ids=set()), SystemRequirement(id='a9fe3', statement='Интуитивность пользовательского интерфейса, позволяющая пользователям без специальных навыков легко взаимодействовать с системой.', related_srestr_ids=set(), related_userstory_ids=set(), related_scenarios_ids=set())]
[2025-08-10 06:55:06.339833] Статус: Операция выполнена успешно.
[2025-08-11 13:48:42.170029] ====================
[2025-08-11 13:48:42.179276] 1. Предобработка данных для их дальнейшней вставки в user-prompt...
[2025-08-11 13:48:42.179957] Результат:
{
 "history": "Бизнес-аналитик: Опишите вашу задачу простыми словами.\nЗаказчик: Целью данного исследования является создание графа знаний, который может быть использован в качестве внешней памяти для таких LLM агентов банка как виртуальный тренажер для клиентских менеджеров, а также агент для обобщения обратной связи от клиентов с целью развития продуктов Банка. Одним из направлений использования такого графа является цифровой наставник, который анализирует коммуникации менеджера с клиентами Банка, проверяет информацию на основе своей базы данных (памяти) о продукте и даёт рекомендации. Существующие решения, аналогичные цифровому наставнику, такие как 3WIN-AI Training Simulator [1], представляют собой коммерческие, closed-source решения, архитектура которых закрыта.  Цифровой наставник обладает следующим функционалом: 1.\tВалидация ответа менеджера в рамках текущей коммуникации с клиентом. 2.\tКорректировка ответа менеджера в зависимости от сделанных ошибок. 3.\tРекомендация возможного ответа для клиента в рамках текущей коммуникации. 4.\tФормирование пространства памяти наставника за счёт структурированных и слабоструктурированных текстовых данных.\nБизнес-аналитик: Какую проблему вы хотите решить с помощью продукта?\nЗаказчик: В Банке разрабатываются системы анализа коммуникаций с клиентами. Среди таких систем создаются цифровые тренажеры для клиентских менеджеров, которые позволяют, отрабатывать навыки работы с клиентами, в том числе работу с возражениями, повышать квалификацию клиентских менеджеров, и в конечном итоге повышать конверсию продаж. Кроме того, системы анализа коммуникаций с клиентами позволяют развивать продукты Банка через обратную связь, включая вопросы, жалобы и предложения, таким образом обобщая клиентский опыт.  Для работы со слабоструктурированной информацией, содержащейся в коммуникациях, необходимы LLM агенты, которые должны понимать семантику сообщений и диалогов. Для того, чтобы такой агент мог накапливать знания, его нужно снабдить внешней памятью. Исследования, в том числе проведенные Сколтехом, показывают, что наиболее эффективным инструментом создания внешней памяти для LLM-агентов являются графы знаний.  Создание такого цифрового тренажера, использующего граф как внешнюю память LLM-агента, позволит значительно повысить качество работы менеджеров с клиентами, снизить отток и повысить лояльность клиентов, и таким образом позволит повысить прибыль Банка.\nБизнес-аналитик: Какой результат вы ожидаете? (Что должно быть на выходе?)\nЗаказчик: MVP цифрового наставника, который может: 1. Обновлять и изменять граф знаний с использованием данных из структурированных источников (критерий – построение графа без ошибок со внесением информации). 2. Вносить в граф знаний сущности и связи из слабоструктурированных источников (критерий – построение графа без ошибок со внесением информации). 3. Формировать ответы на основе построенного графа знаний (критерий – метрики полного совпадения (EM), F1-score). 4. Валидировать ответ менеджера на предмет корректности формата коммуникации с клиентом (критерий – F1-score). 5. Верифицировать фактологическую информацию в ответе менеджера на основе построенного графа знаний (критерий – F1-score).\nБизнес-аналитик: Кто будет пользоваться продуктом? (Целевая аудитория)\nЗаказчик: Менеджеры технической поддержки по общению с клиентами банка\nБизнес-аналитик: Есть ли предпочтения по технологиям или ограничения?\nЗаказчик: Одним из наиболее перспективных SOTA подходов является идея создания полноценной памяти агентов, построенных на основе графов. В общих фреймворках для построения и отслеживания LLM агентов, таких как LangGraph [5], есть некоторая фунциональность для работы с памятью агентов. Однако мы будем опираться на более специализированные решения.  В текущем году было представлено несколько решений по построению внешней памяти агентов на графах, среди них можно выделить две работы: Mem0 (\"mem-zero\") [6] и A-Mem: Agentic Memory [7]. В качестве бенчмарка для тестирования перечисленных решений использовался датасет LOCOMO [8], содержащий диалоги и вопросы к ним. Средняя длина диалога составляет 26000 токенов, и несмотря на то, что в настоящее время LLMs имеют возможность обработки такой длины контекста, было показано, что эффективность использования информации из контекста при генерации падает при увеличении длины контекста [9]. Таким образом, бенчмарк LOCOMO дает возможность оценить эффективность сохранения и извлечения фактов из внешней памяти для использования LLM агентом при генерации сообщений в диалоге. Граф знаний в решении AriGraph [2, 3], на котором будет базироваться данная работа, сочетает в себе как структурированные элементы (узлы и связи в семантической памяти, связи между семантическими и эпизодическими узлами), так и неструктурированные (текст в эпизодических узлах), что представляет собой потенциальное преимущество перед вышеперечисленными подходами. В работе [2] были приведены SOTA метрики (Exact Match) подхода AriGraph на датасете HotpotQA. В ходе данного проекта предполагается улучшение алгоритма извлечения и фильтрации релевантных фактов из графа знаний в системе AriGraph. Подтверждение данных предположений на бенчмарке LOCOMO будет представлять решение на уровне мировой SOTA, и будет означать существенное развитие технологий построения LLM-агентов.\nБизнес-аналитик: Какие данные уже есть, и какие данные нужно собирать?\nЗаказчик: 1. Потребуется подготовить набор текстовых документов, на основе которых цифровой тренажёр должен валидировать ответы клиентского менеджера. 2. Необходимо сформировать методологии, по которым клиентский менеджер ведёт коммуникацию\nБизнес-аналитик: Есть ли интеграции с другими системами?\nЗаказчик: Интеграции с другими системами нет\nБизнес-аналитик: Какие есть дополнительные пожелания или требования?\nЗаказчик: Поскольку для надежной архитектуры памяти необходима интеграция как структурированных, так и неструктурированных данных, такая интеграция осуществляется параллельно с концепциями семантической и эпизодической памяти. Граф знаний представляет собой сеть взаимосвязанных семантических знаний, в то время как эпизодические воспоминания отображаются в виде эпизодических ребер, которые могут связывать множество отношений внутри графа.  Построение графа, а также валидация и корректировка ответа менеджера будут реализованы в виде агентов на основе LLM. Тестирование алгоритмов планируется проводить с использованием GigaChat (при наличии доступа к вычислительным и информационным ресурсам Сбербанка), либо с LLaMA и QWEN (на мощностях Сколтеха). Финальное решение будет реализовано с использованием GigaChat. Предлагаемый подход является развитием подхода AriGraph [2, 3], и будет осуществляться исследовательской командой, в состав которой будут входить авторы данной статьи из Сколтеха.\nБизнес-аналитик: Какие критерии качества ответов агента будут использоваться помимо EM и F1-score, и каким образом они повлияют на оценку эффективности цифрового наставника?\nЗаказчик: только EM и F1-score\nБизнес-аналитик: Какие типы структурированных и слабоструктурированных данных будут использованы для формирования графа знаний, и какой объем этих данных ожидается на начальном этапе разработки MVP?\nЗаказчик: Для построения графа знаний будут использоваться только данные в текстовом формате, которые содержат информацию на естественном языке. По количеству ожидается несколько тысяч абзацев текста\nБизнес-аналитик: Какие категории информации (например, описание продуктов банка, правила взаимодействия с клиентами, часто задаваемые вопросы и т.д.) содержатся в указанных текстовых данных, и насколько детализированными они должны быть для эффективного функционирования цифрового наставника?\nЗаказчик: Думаем в этих текстах точно будет присутствовать эти категории информации: описание продуктов банка, правила взаимодействия с клиентами, часто задаваемые вопросы. Возможно что-то ешё: в рамках проекта потребуется в отдельности проанализировать имеющиеся наборы информации для её категоризации/систематизации. \nБизнес-аналитик: Какие форматы представления текстовой информации доступны сейчас (например, документы Word, PDF-файлы, веб-страницы, электронные письма)? Будет ли предоставляться доступ ко всем источникам сразу или потребуется организовать процесс сбора и подготовки данных отдельно?\nЗаказчик: Скорее всего будет предоставлен исходный набор источников сразу в формате pdf-документов\nБизнес-аналитик: Какие технические характеристики и особенности форматирования PDF-документов следует учитывать при обработке текстов (например, наличие таблиц, изображений, специфического шрифта, структуры разделов)?\nЗаказчик: из pdf-документов потребуется извлекать только абзацы текста, минуя таблицы и изображения. При этом должна распознаваться структура документа: разделы/подазделы, абзацы, заголовки\nБизнес-аналитик: Какие языки используются в предоставляемых PDF-документах, и требуется ли поддержка мультиязычности в процессе обработки и анализа текстовой информации?\nЗаказчик: в PDF-документах будут присутствовать тексты на русском языке. Поддержка мультиязычности в рамках текущего проекта не предполагается\nБизнес-аналитик: Какие существуют типичные ошибки или проблемы в текущих коммуникациях менеджеров с клиентами, которые цифровой наставник должен выявлять и исправлять в первую очередь?\nЗаказчик: Сейчас у нас нет такой информации. В рамках данного проекта это потребуется выяснить в рамках ревью с нашимы специалистами по данному вопросу.\nБизнес-аналитик: Какие временные рамки установлены для реализации MVP цифрового наставника, и каковы приоритеты этапов разработки (создание графа знаний, обучение модели, тестирование и внедрение)?\nЗаказчик: На разработку MVP выделяется 6 месяцев. Приоритетом является проектирование и разработка графа знаний, который сможет поддерживать оговоренные выше функции",
 "task_goal": "Проект направлен на разработку минимально жизнеспособного продукта (MVP) — цифрового наставника, предназначенного для повышения качества взаимодействия менеджеров технической поддержки банка с клиентами. Основной задачей наставника является обеспечение эффективной внешней памяти для агентов на базе больших языковых моделей (LLM), позволяющей анализировать коммуникации, проверять предоставленную менеджерами информацию и давать рекомендации по улучшению ответов клиентам. Наставник должен поддерживать обновление и изменение графа знаний на основе структурированных и слабо структурированных данных, формировать точные ответы на запросы, а также обеспечивать валидацию и верификацию ответов менеджеров согласно установленным правилам и критериям оценки. Проект предполагает использование современных методов построения графов знаний и интеграцию различных типов данных для достижения уровня мировых стандартов (SOTA) в области разработки LLM-агентов.",
 "sr_limit": "\n## Примечание к задаче\nСформируй не более 10 системных требований."
}.
[2025-08-11 13:48:42.180287] Статус: Операция выполнена успешно.
[2025-08-11 13:48:42.180403] --------------------
[2025-08-11 13:48:42.180553] 2. Детекция используемого языка...
[2025-08-11 13:48:42.180676] Результат:
ru.
[2025-08-11 13:48:42.180783] Статус: Операция выполнена успешно.
[2025-08-11 13:48:42.180880] --------------------
[2025-08-11 13:48:42.180976] 3. Добавление информации в user-prompt...
[2025-08-11 13:48:42.181106] Результат:

# Описание назначения проекта
Проект направлен на разработку минимально жизнеспособного продукта (MVP) — цифрового наставника, предназначенного для повышения качества взаимодействия менеджеров технической поддержки банка с клиентами. Основной задачей наставника является обеспечение эффективной внешней памяти для агентов на базе больших языковых моделей (LLM), позволяющей анализировать коммуникации, проверять предоставленную менеджерами информацию и давать рекомендации по улучшению ответов клиентам. Наставник должен поддерживать обновление и изменение графа знаний на основе структурированных и слабо структурированных данных, формировать точные ответы на запросы, а также обеспечивать валидацию и верификацию ответов менеджеров согласно установленным правилам и критериям оценки. Проект предполагает использование современных методов построения графов знаний и интеграцию различных типов данных для достижения уровня мировых стандартов (SOTA) в области разработки LLM-агентов.
# История диалога с заказчиком по проекту
Бизнес-аналитик: Опишите вашу задачу простыми словами.
Заказчик: Целью данного исследования является создание графа знаний, который может быть использован в качестве внешней памяти для таких LLM агентов банка как виртуальный тренажер для клиентских менеджеров, а также агент для обобщения обратной связи от клиентов с целью развития продуктов Банка. Одним из направлений использования такого графа является цифровой наставник, который анализирует коммуникации менеджера с клиентами Банка, проверяет информацию на основе своей базы данных (памяти) о продукте и даёт рекомендации. Существующие решения, аналогичные цифровому наставнику, такие как 3WIN-AI Training Simulator [1], представляют собой коммерческие, closed-source решения, архитектура которых закрыта.  Цифровой наставник обладает следующим функционалом: 1.	Валидация ответа менеджера в рамках текущей коммуникации с клиентом. 2.	Корректировка ответа менеджера в зависимости от сделанных ошибок. 3.	Рекомендация возможного ответа для клиента в рамках текущей коммуникации. 4.	Формирование пространства памяти наставника за счёт структурированных и слабоструктурированных текстовых данных.
Бизнес-аналитик: Какую проблему вы хотите решить с помощью продукта?
Заказчик: В Банке разрабатываются системы анализа коммуникаций с клиентами. Среди таких систем создаются цифровые тренажеры для клиентских менеджеров, которые позволяют, отрабатывать навыки работы с клиентами, в том числе работу с возражениями, повышать квалификацию клиентских менеджеров, и в конечном итоге повышать конверсию продаж. Кроме того, системы анализа коммуникаций с клиентами позволяют развивать продукты Банка через обратную связь, включая вопросы, жалобы и предложения, таким образом обобщая клиентский опыт.  Для работы со слабоструктурированной информацией, содержащейся в коммуникациях, необходимы LLM агенты, которые должны понимать семантику сообщений и диалогов. Для того, чтобы такой агент мог накапливать знания, его нужно снабдить внешней памятью. Исследования, в том числе проведенные Сколтехом, показывают, что наиболее эффективным инструментом создания внешней памяти для LLM-агентов являются графы знаний.  Создание такого цифрового тренажера, использующего граф как внешнюю память LLM-агента, позволит значительно повысить качество работы менеджеров с клиентами, снизить отток и повысить лояльность клиентов, и таким образом позволит повысить прибыль Банка.
Бизнес-аналитик: Какой результат вы ожидаете? (Что должно быть на выходе?)
Заказчик: MVP цифрового наставника, который может: 1. Обновлять и изменять граф знаний с использованием данных из структурированных источников (критерий – построение графа без ошибок со внесением информации). 2. Вносить в граф знаний сущности и связи из слабоструктурированных источников (критерий – построение графа без ошибок со внесением информации). 3. Формировать ответы на основе построенного графа знаний (критерий – метрики полного совпадения (EM), F1-score). 4. Валидировать ответ менеджера на предмет корректности формата коммуникации с клиентом (критерий – F1-score). 5. Верифицировать фактологическую информацию в ответе менеджера на основе построенного графа знаний (критерий – F1-score).
Бизнес-аналитик: Кто будет пользоваться продуктом? (Целевая аудитория)
Заказчик: Менеджеры технической поддержки по общению с клиентами банка
Бизнес-аналитик: Есть ли предпочтения по технологиям или ограничения?
Заказчик: Одним из наиболее перспективных SOTA подходов является идея создания полноценной памяти агентов, построенных на основе графов. В общих фреймворках для построения и отслеживания LLM агентов, таких как LangGraph [5], есть некоторая фунциональность для работы с памятью агентов. Однако мы будем опираться на более специализированные решения.  В текущем году было представлено несколько решений по построению внешней памяти агентов на графах, среди них можно выделить две работы: Mem0 ("mem-zero") [6] и A-Mem: Agentic Memory [7]. В качестве бенчмарка для тестирования перечисленных решений использовался датасет LOCOMO [8], содержащий диалоги и вопросы к ним. Средняя длина диалога составляет 26000 токенов, и несмотря на то, что в настоящее время LLMs имеют возможность обработки такой длины контекста, было показано, что эффективность использования информации из контекста при генерации падает при увеличении длины контекста [9]. Таким образом, бенчмарк LOCOMO дает возможность оценить эффективность сохранения и извлечения фактов из внешней памяти для использования LLM агентом при генерации сообщений в диалоге. Граф знаний в решении AriGraph [2, 3], на котором будет базироваться данная работа, сочетает в себе как структурированные элементы (узлы и связи в семантической памяти, связи между семантическими и эпизодическими узлами), так и неструктурированные (текст в эпизодических узлах), что представляет собой потенциальное преимущество перед вышеперечисленными подходами. В работе [2] были приведены SOTA метрики (Exact Match) подхода AriGraph на датасете HotpotQA. В ходе данного проекта предполагается улучшение алгоритма извлечения и фильтрации релевантных фактов из графа знаний в системе AriGraph. Подтверждение данных предположений на бенчмарке LOCOMO будет представлять решение на уровне мировой SOTA, и будет означать существенное развитие технологий построения LLM-агентов.
Бизнес-аналитик: Какие данные уже есть, и какие данные нужно собирать?
Заказчик: 1. Потребуется подготовить набор текстовых документов, на основе которых цифровой тренажёр должен валидировать ответы клиентского менеджера. 2. Необходимо сформировать методологии, по которым клиентский менеджер ведёт коммуникацию
Бизнес-аналитик: Есть ли интеграции с другими системами?
Заказчик: Интеграции с другими системами нет
Бизнес-аналитик: Какие есть дополнительные пожелания или требования?
Заказчик: Поскольку для надежной архитектуры памяти необходима интеграция как структурированных, так и неструктурированных данных, такая интеграция осуществляется параллельно с концепциями семантической и эпизодической памяти. Граф знаний представляет собой сеть взаимосвязанных семантических знаний, в то время как эпизодические воспоминания отображаются в виде эпизодических ребер, которые могут связывать множество отношений внутри графа.  Построение графа, а также валидация и корректировка ответа менеджера будут реализованы в виде агентов на основе LLM. Тестирование алгоритмов планируется проводить с использованием GigaChat (при наличии доступа к вычислительным и информационным ресурсам Сбербанка), либо с LLaMA и QWEN (на мощностях Сколтеха). Финальное решение будет реализовано с использованием GigaChat. Предлагаемый подход является развитием подхода AriGraph [2, 3], и будет осуществляться исследовательской командой, в состав которой будут входить авторы данной статьи из Сколтеха.
Бизнес-аналитик: Какие критерии качества ответов агента будут использоваться помимо EM и F1-score, и каким образом они повлияют на оценку эффективности цифрового наставника?
Заказчик: только EM и F1-score
Бизнес-аналитик: Какие типы структурированных и слабоструктурированных данных будут использованы для формирования графа знаний, и какой объем этих данных ожидается на начальном этапе разработки MVP?
Заказчик: Для построения графа знаний будут использоваться только данные в текстовом формате, которые содержат информацию на естественном языке. По количеству ожидается несколько тысяч абзацев текста
Бизнес-аналитик: Какие категории информации (например, описание продуктов банка, правила взаимодействия с клиентами, часто задаваемые вопросы и т.д.) содержатся в указанных текстовых данных, и насколько детализированными они должны быть для эффективного функционирования цифрового наставника?
Заказчик: Думаем в этих текстах точно будет присутствовать эти категории информации: описание продуктов банка, правила взаимодействия с клиентами, часто задаваемые вопросы. Возможно что-то ешё: в рамках проекта потребуется в отдельности проанализировать имеющиеся наборы информации для её категоризации/систематизации. 
Бизнес-аналитик: Какие форматы представления текстовой информации доступны сейчас (например, документы Word, PDF-файлы, веб-страницы, электронные письма)? Будет ли предоставляться доступ ко всем источникам сразу или потребуется организовать процесс сбора и подготовки данных отдельно?
Заказчик: Скорее всего будет предоставлен исходный набор источников сразу в формате pdf-документов
Бизнес-аналитик: Какие технические характеристики и особенности форматирования PDF-документов следует учитывать при обработке текстов (например, наличие таблиц, изображений, специфического шрифта, структуры разделов)?
Заказчик: из pdf-документов потребуется извлекать только абзацы текста, минуя таблицы и изображения. При этом должна распознаваться структура документа: разделы/подазделы, абзацы, заголовки
Бизнес-аналитик: Какие языки используются в предоставляемых PDF-документах, и требуется ли поддержка мультиязычности в процессе обработки и анализа текстовой информации?
Заказчик: в PDF-документах будут присутствовать тексты на русском языке. Поддержка мультиязычности в рамках текущего проекта не предполагается
Бизнес-аналитик: Какие существуют типичные ошибки или проблемы в текущих коммуникациях менеджеров с клиентами, которые цифровой наставник должен выявлять и исправлять в первую очередь?
Заказчик: Сейчас у нас нет такой информации. В рамках данного проекта это потребуется выяснить в рамках ревью с нашимы специалистами по данному вопросу.
Бизнес-аналитик: Какие временные рамки установлены для реализации MVP цифрового наставника, и каковы приоритеты этапов разработки (создание графа знаний, обучение модели, тестирование и внедрение)?
Заказчик: На разработку MVP выделяется 6 месяцев. Приоритетом является проектирование и разработка графа знаний, который сможет поддерживать оговоренные выше функции

## Примечание к задаче
Сформируй не более 10 системных требований.

[2025-08-11 13:48:42.181398] Статус: Операция выполнена успешно.
[2025-08-11 13:48:42.181498] --------------------
[2025-08-11 13:48:42.181591] 4. Генерация ответа с помощью LLM-агента.
[2025-08-11 13:48:42.182060] Выполняем инференс llm...
[2025-08-11 13:48:47.247594] Результат:
- Система должна обновлять и изменять граф знаний с использованием данных из структурированных источников без внесения ошибок.
- Система должна вносить в граф знаний сущности и связи из слабоструктурированных источников без внесения ошибок.
- Система должна формировать ответы на основе построенного графа знаний с достижением высоких значений метрик Exact Match (EM) и F1-score.
- Система должна валидировать ответ менеджера на предмет корректности формата коммуникации с клиентом с высоким значением метрики F1-score.
- Система должна верифицировать фактологическую информацию в ответе менеджера на основе построенного графа знаний с высоким значением метрики F1-score.
- Система должна интегрировать как структурированную, так и неструктурированную информацию в граф знаний одновременно.
- Система должна использовать архитектуру внешней памяти агентов, основанную на графах знаний, аналогичную подходу AriGraph.
- Система должна обрабатывать текстовую информацию исключительно на русском языке.
- Система должна извлекать из PDF-документов только текстовый контент, игнорируя таблицы и изображения, сохраняя структуру разделов и подзаголовков.
- Реализация MVP должна быть завершена в течение шести месяцев с приоритетом проектирования и разработки графа знаний.
[2025-08-11 13:48:47.247822] Статус: Операция выполнена успешно.
[2025-08-11 13:48:47.247944] --------------------
[2025-08-11 13:48:47.248050] 5. Разбор ответа, сгенерированного LLM-агентом.
[2025-08-11 13:48:47.248300] Результат:
['Система должна обновлять и изменять граф знаний с использованием данных из структурированных источников без внесения ошибок.', 'Система должна вносить в граф знаний сущности и связи из слабоструктурированных источников без внесения ошибок.', 'Система должна формировать ответы на основе построенного графа знаний с достижением высоких значений метрик Exact Match (EM) и F1-score.', 'Система должна валидировать ответ менеджера на предмет корректности формата коммуникации с клиентом с высоким значением метрики F1-score.', 'Система должна верифицировать фактологическую информацию в ответе менеджера на основе построенного графа знаний с высоким значением метрики F1-score.', 'Система должна интегрировать как структурированную, так и неструктурированную информацию в граф знаний одновременно.', 'Система должна использовать архитектуру внешней памяти агентов, основанную на графах знаний, аналогичную подходу AriGraph.', 'Система должна обрабатывать текстовую информацию исключительно на русском языке.', 'Система должна извлекать из PDF-документов только текстовый контент, игнорируя таблицы и изображения, сохраняя структуру разделов и подзаголовков.', 'Реализация MVP должна быть завершена в течение шести месяцев с приоритетом проектирования и разработки графа знаний.']
[2025-08-11 13:48:47.248513] Статус: Операция выполнена успешно.
[2025-08-11 13:48:47.248629] --------------------
[2025-08-11 13:48:47.248732] 6. Постобработка ответа от LLM-агента.
[2025-08-11 13:48:47.249178] Результат:
[SystemRequirement(id='a8fe6', statement='Система должна обновлять и изменять граф знаний с использованием данных из структурированных источников без внесения ошибок.', related_srestr_ids=set(), related_userstory_ids=set(), related_scenarios_ids=set()), SystemRequirement(id='6bf73', statement='Система должна вносить в граф знаний сущности и связи из слабоструктурированных источников без внесения ошибок.', related_srestr_ids=set(), related_userstory_ids=set(), related_scenarios_ids=set()), SystemRequirement(id='b30aa', statement='Система должна формировать ответы на основе построенного графа знаний с достижением высоких значений метрик Exact Match (EM) и F1-score.', related_srestr_ids=set(), related_userstory_ids=set(), related_scenarios_ids=set()), SystemRequirement(id='5ec1f', statement='Система должна валидировать ответ менеджера на предмет корректности формата коммуникации с клиентом с высоким значением метрики F1-score.', related_srestr_ids=set(), related_userstory_ids=set(), related_scenarios_ids=set()), SystemRequirement(id='be2f9', statement='Система должна верифицировать фактологическую информацию в ответе менеджера на основе построенного графа знаний с высоким значением метрики F1-score.', related_srestr_ids=set(), related_userstory_ids=set(), related_scenarios_ids=set()), SystemRequirement(id='71d4e', statement='Система должна интегрировать как структурированную, так и неструктурированную информацию в граф знаний одновременно.', related_srestr_ids=set(), related_userstory_ids=set(), related_scenarios_ids=set()), SystemRequirement(id='79ec5', statement='Система должна использовать архитектуру внешней памяти агентов, основанную на графах знаний, аналогичную подходу AriGraph.', related_srestr_ids=set(), related_userstory_ids=set(), related_scenarios_ids=set()), SystemRequirement(id='19db5', statement='Система должна обрабатывать текстовую информацию исключительно на русском языке.', related_srestr_ids=set(), related_userstory_ids=set(), related_scenarios_ids=set()), SystemRequirement(id='ef6c7', statement='Система должна извлекать из PDF-документов только текстовый контент, игнорируя таблицы и изображения, сохраняя структуру разделов и подзаголовков.', related_srestr_ids=set(), related_userstory_ids=set(), related_scenarios_ids=set()), SystemRequirement(id='dab0d', statement='Реализация MVP должна быть завершена в течение шести месяцев с приоритетом проектирования и разработки графа знаний.', related_srestr_ids=set(), related_userstory_ids=set(), related_scenarios_ids=set())]
[2025-08-11 13:48:47.249346] Статус: Операция выполнена успешно.
[2025-08-19 17:03:09.882308] ====================
[2025-08-19 17:03:09.914837] 1. Предобработка данных для их дальнейшней вставки в user-prompt...
[2025-08-19 17:03:09.915427] Результат:
{
 "history": "Бизнес-аналитик: Опишите вашу задачу простыми словами.\nЗаказчик: Необъодимо разработать цифрового наставника, который анализирует коммуникации менеджера с клиентами Банка, проверяет информацию на основе своей базы знаний (памяти) о продукте и даёт рекомендации. Наставник должен поддерживать обновление и изменение графа знаний, а также обеспечивать валидацию и верификацию ответов менеджеров согласно установленным правилам и критериям оценки.\nБизнес-аналитик: Какую проблему вы хотите решить с помощью продукта?\nЗаказчик: В Банке разрабатываются системы анализа коммуникаций с клиентами. Среди таких систем создаются цифровые тренажеры для клиентских менеджеров, которые позволяют, отрабатывать навыки работы с клиентами, в том числе работу с возражениями, повышать квалификацию клиентских менеджеров, и в конечном итоге повышать конверсию продаж. Кроме того, системы анализа коммуникаций с клиентами позволяют развивать продукты Банка через обратную связь, включая вопросы, жалобы и предложения, таким образом обобщая клиентский опыт.  Для работы со слабоструктурированной информацией, содержащейся в коммуникациях, необходимы LLM агенты, которые должны понимать семантику сообщений и диалогов. Для того, чтобы такой агент мог накапливать знания, его нужно снабдить внешней памятью. Исследования, в том числе проведенные Сколтехом, показывают, что наиболее эффективным инструментом создания внешней памяти для LLM-агентов являются графы знаний.  Создание такого цифрового тренажера, использующего граф как внешнюю память LLM-агента, позволит значительно повысить качество работы менеджеров с клиентами, снизить отток и повысить лояльность клиентов, и таким образом позволит повысить прибыль Банка.\nБизнес-аналитик: Какой результат вы ожидаете? (Что должно быть на выходе?)\nЗаказчик: Программную библиотеку с следующим фцнкионалом: (1) валидация ответа менеджера в рамках текущей коммуникации с клиентом; (2) корректировка ответа менеджера в зависимости от сделанных ошибок; (3) рекомендация возможного ответа менеджера для клиента в рамках текущей коммуникации; (4) формирование пространства памяти цифрового наставника на основе графов знаний, которая будет хранить текущую историю диалога менеджера с клиентом, правила/манифест общения с клиентом и техническую/сопроводительную информацию об услугах банка, на которую должен обуславливаться менеджер (и цифровой наставник) при генерации ответов на вопросы клиента\nБизнес-аналитик: Кто будет пользоваться продуктом? (Целевая аудитория)\nЗаказчик: Продуктом будут пользоваться клиентские менеджеры для проверки/валидации своих ответов и получения базовых вариантов ответа для клиентов на их вопросы \nБизнес-аналитик: Есть ли предпочтения по технологиям или ограничения?\nЗаказчик: Одним из наиболее перспективных SOTA подходов является идея создания полноценной памяти агентов, построенных на основе графов. В общих фреймворках для построения и отслеживания LLM агентов, таких как LangGraph [5], есть некоторая фунциональность для работы с памятью агентов. Однако мы будем опираться на более специализированные решения.  В текущем году было представлено несколько решений по построению внешней памяти агентов на графах, среди них можно выделить две работы: Mem0 (\"mem-zero\") [6] и A-Mem: Agentic Memory [7]. В качестве бенчмарка для тестирования перечисленных решений использовался датасет LOCOMO [8], содержащий диалоги и вопросы к ним. Средняя длина диалога составляет 26000 токенов, и несмотря на то, что в настоящее время LLMs имеют возможность обработки такой длины контекста, было показано, что эффективность использования информации из контекста при генерации падает при увеличении длины контекста [9]. Таким образом, бенчмарк LOCOMO дает возможность оценить эффективность сохранения и извлечения фактов из внешней памяти для использования LLM агентом при генерации сообщений в диалоге. Граф знаний в решении AriGraph [2, 3], на котором будет базироваться данная работа, сочетает в себе как структурированные элементы (узлы и связи в семантической памяти, связи между семантическими и эпизодическими узлами), так и неструктурированные (текст в эпизодических узлах), что представляет собой потенциальное преимущество перед вышеперечисленными подходами. В работе [2] были приведены SOTA метрики (Exact Match) подхода AriGraph на датасете HotpotQA. В ходе данного проекта предполагается улучшение алгоритма извлечения и фильтрации релевантных фактов из графа знаний в системе AriGraph. Подтверждение данных предположений на бенчмарке LOCOMO будет представлять решение на уровне мировой SOTA, и будет означать существенное развитие технологий построения LLM-агентов.\nБизнес-аналитик: Какие данные уже есть, и какие данные нужно собирать?\nЗаказчик: Никаких данных нет, но потебуется подготовить датасеты для оценки качества следующих функций: (1) валидация ответов клиентских менеджеров; (2) генерация рекомендаций / вариантов ответа на вопросы клиентов; (3) корректировка ответов менеджеров на вопросы клиентов\nБизнес-аналитик: Есть ли интеграции с другими системами?\nЗаказчик: Интеграции с другими системами нет\nБизнес-аналитик: Какие есть дополнительные пожелания или требования?\nЗаказчик: Поскольку для надежной архитектуры памяти необходима интеграция как структурированных, так и неструктурированных данных, такая интеграция осуществляется параллельно с концепциями семантической и эпизодической памяти. Граф знаний представляет собой сеть взаимосвязанных семантических знаний, в то время как эпизодические воспоминания отображаются в виде эпизодических ребер, которые могут связывать множество отношений внутри графа.  Построение графа, а также валидация и корректировка ответа менеджера будут реализованы в виде агентов на основе LLM. Тестирование алгоритмов планируется проводить с использованием GigaChat (при наличии доступа к вычислительным и информационным ресурсам Сбербанка), либо с LLaMA и QWEN (на мощностях Сколтеха). Финальное решение будет реализовано с использованием GigaChat. Предлагаемый подход является развитием подхода AriGraph [2, 3], и будет осуществляться исследовательской командой, в состав которой будут входить авторы данной статьи из Сколтеха.\nБизнес-аналитик: Какие критерии будут использоваться для определения \"правильного\" ответа менеджера при валидации и корректировке ответов в рамках текущего диалога с клиентом?\nЗаказчик: Мы знаем следующие метрики эффективности, за счёт которых можно выполнить оценку заявленных функций:  Faithfulness, Correctness, Relevancy, BLEU, METEOR, ROUGE. Какие метрики нам ещё стоит включить для оценки качества валидации, генерации и коррекции ответов клиентского менеджера?\nБизнес-аналитик: Какие конкретные сценарии взаимодействия клиентского менеджера с цифровым наставником следует учитывать при разработке функционала валидации, корректировки и рекомендации ответов? Например, типичные ситуации возникновения возражений у клиентов, сложные запросы или нестандартные случаи обслуживания.\nЗаказчик: (1) валидация ответа менеджера в рамках текущей коммуникации с клиентом; (2) корректировка ответа менеджера в зависимости от сделанных ошибок; (3) рекомендация возможного ответа менеджера для клиента в рамках текущей коммуникации; (4) формирование пространства памяти цифрового наставника на основе графов знаний, которая будет хранить текущую историю диалога менеджера с клиентом, правила/манифест общения с клиентом и техническую/сопроводительную информацию об услугах банка, на которую должен обуславливаться менеджер (и цифровой наставник) при генерации ответов на вопросы клиента\nБизнес-аналитик: Какие типы ошибок чаще всего допускают клиентские менеджеры при общении с клиентами, и как эти ошибки влияют на удовлетворенность клиентов и результаты бизнеса?\nЗаказчик: У нас нет такой информации\nБизнес-аналитик: Какие источники информации доступны для сбора данных о типичных ошибках клиентских менеджеров при взаимодействии с клиентами, если внутренняя статистика отсутствует?\nЗаказчик: сбор информации об ошибках не требуется",
 "task_goal": "Разработка программной библиотеки, представляющей собой цифрового наставника для клиентских менеджеров банка, способного анализировать коммуникации менеджеров с клиентами, проверять предоставленную менеджерами информацию на соответствие базе знаний банка и давать рекомендации по улучшению взаимодействия с клиентами. Система включает механизмы обновления и изменения графа знаний, обеспечивающего хранение технической и сопроводительной информации о продуктах банка, правил общения с клиентами и истории текущих диалогов. Основной целью разработки является повышение квалификации менеджеров, снижение оттока клиентов и увеличение лояльности путем улучшения качества обслуживания и повышения эффективности коммуникаций. Библиотека обеспечит функции валидации ответов менеджеров, корректировки этих ответов и формирования рекомендаций возможных ответов в процессе текущего диалога с клиентом.",
 "sr_limit": ""
}.
[2025-08-19 17:03:09.915721] Статус: Операция выполнена успешно.
[2025-08-19 17:03:09.915831] --------------------
[2025-08-19 17:03:09.915928] 2. Детекция используемого языка...
[2025-08-19 17:03:09.916041] Результат:
ru.
[2025-08-19 17:03:09.916142] Статус: Операция выполнена успешно.
[2025-08-19 17:03:09.916238] --------------------
[2025-08-19 17:03:09.916330] 3. Добавление информации в user-prompt...
[2025-08-19 17:03:09.916458] Результат:

# Описание назначения проекта
Разработка программной библиотеки, представляющей собой цифрового наставника для клиентских менеджеров банка, способного анализировать коммуникации менеджеров с клиентами, проверять предоставленную менеджерами информацию на соответствие базе знаний банка и давать рекомендации по улучшению взаимодействия с клиентами. Система включает механизмы обновления и изменения графа знаний, обеспечивающего хранение технической и сопроводительной информации о продуктах банка, правил общения с клиентами и истории текущих диалогов. Основной целью разработки является повышение квалификации менеджеров, снижение оттока клиентов и увеличение лояльности путем улучшения качества обслуживания и повышения эффективности коммуникаций. Библиотека обеспечит функции валидации ответов менеджеров, корректировки этих ответов и формирования рекомендаций возможных ответов в процессе текущего диалога с клиентом.
# История диалога с заказчиком по проекту
Бизнес-аналитик: Опишите вашу задачу простыми словами.
Заказчик: Необъодимо разработать цифрового наставника, который анализирует коммуникации менеджера с клиентами Банка, проверяет информацию на основе своей базы знаний (памяти) о продукте и даёт рекомендации. Наставник должен поддерживать обновление и изменение графа знаний, а также обеспечивать валидацию и верификацию ответов менеджеров согласно установленным правилам и критериям оценки.
Бизнес-аналитик: Какую проблему вы хотите решить с помощью продукта?
Заказчик: В Банке разрабатываются системы анализа коммуникаций с клиентами. Среди таких систем создаются цифровые тренажеры для клиентских менеджеров, которые позволяют, отрабатывать навыки работы с клиентами, в том числе работу с возражениями, повышать квалификацию клиентских менеджеров, и в конечном итоге повышать конверсию продаж. Кроме того, системы анализа коммуникаций с клиентами позволяют развивать продукты Банка через обратную связь, включая вопросы, жалобы и предложения, таким образом обобщая клиентский опыт.  Для работы со слабоструктурированной информацией, содержащейся в коммуникациях, необходимы LLM агенты, которые должны понимать семантику сообщений и диалогов. Для того, чтобы такой агент мог накапливать знания, его нужно снабдить внешней памятью. Исследования, в том числе проведенные Сколтехом, показывают, что наиболее эффективным инструментом создания внешней памяти для LLM-агентов являются графы знаний.  Создание такого цифрового тренажера, использующего граф как внешнюю память LLM-агента, позволит значительно повысить качество работы менеджеров с клиентами, снизить отток и повысить лояльность клиентов, и таким образом позволит повысить прибыль Банка.
Бизнес-аналитик: Какой результат вы ожидаете? (Что должно быть на выходе?)
Заказчик: Программную библиотеку с следующим фцнкионалом: (1) валидация ответа менеджера в рамках текущей коммуникации с клиентом; (2) корректировка ответа менеджера в зависимости от сделанных ошибок; (3) рекомендация возможного ответа менеджера для клиента в рамках текущей коммуникации; (4) формирование пространства памяти цифрового наставника на основе графов знаний, которая будет хранить текущую историю диалога менеджера с клиентом, правила/манифест общения с клиентом и техническую/сопроводительную информацию об услугах банка, на которую должен обуславливаться менеджер (и цифровой наставник) при генерации ответов на вопросы клиента
Бизнес-аналитик: Кто будет пользоваться продуктом? (Целевая аудитория)
Заказчик: Продуктом будут пользоваться клиентские менеджеры для проверки/валидации своих ответов и получения базовых вариантов ответа для клиентов на их вопросы 
Бизнес-аналитик: Есть ли предпочтения по технологиям или ограничения?
Заказчик: Одним из наиболее перспективных SOTA подходов является идея создания полноценной памяти агентов, построенных на основе графов. В общих фреймворках для построения и отслеживания LLM агентов, таких как LangGraph [5], есть некоторая фунциональность для работы с памятью агентов. Однако мы будем опираться на более специализированные решения.  В текущем году было представлено несколько решений по построению внешней памяти агентов на графах, среди них можно выделить две работы: Mem0 ("mem-zero") [6] и A-Mem: Agentic Memory [7]. В качестве бенчмарка для тестирования перечисленных решений использовался датасет LOCOMO [8], содержащий диалоги и вопросы к ним. Средняя длина диалога составляет 26000 токенов, и несмотря на то, что в настоящее время LLMs имеют возможность обработки такой длины контекста, было показано, что эффективность использования информации из контекста при генерации падает при увеличении длины контекста [9]. Таким образом, бенчмарк LOCOMO дает возможность оценить эффективность сохранения и извлечения фактов из внешней памяти для использования LLM агентом при генерации сообщений в диалоге. Граф знаний в решении AriGraph [2, 3], на котором будет базироваться данная работа, сочетает в себе как структурированные элементы (узлы и связи в семантической памяти, связи между семантическими и эпизодическими узлами), так и неструктурированные (текст в эпизодических узлах), что представляет собой потенциальное преимущество перед вышеперечисленными подходами. В работе [2] были приведены SOTA метрики (Exact Match) подхода AriGraph на датасете HotpotQA. В ходе данного проекта предполагается улучшение алгоритма извлечения и фильтрации релевантных фактов из графа знаний в системе AriGraph. Подтверждение данных предположений на бенчмарке LOCOMO будет представлять решение на уровне мировой SOTA, и будет означать существенное развитие технологий построения LLM-агентов.
Бизнес-аналитик: Какие данные уже есть, и какие данные нужно собирать?
Заказчик: Никаких данных нет, но потебуется подготовить датасеты для оценки качества следующих функций: (1) валидация ответов клиентских менеджеров; (2) генерация рекомендаций / вариантов ответа на вопросы клиентов; (3) корректировка ответов менеджеров на вопросы клиентов
Бизнес-аналитик: Есть ли интеграции с другими системами?
Заказчик: Интеграции с другими системами нет
Бизнес-аналитик: Какие есть дополнительные пожелания или требования?
Заказчик: Поскольку для надежной архитектуры памяти необходима интеграция как структурированных, так и неструктурированных данных, такая интеграция осуществляется параллельно с концепциями семантической и эпизодической памяти. Граф знаний представляет собой сеть взаимосвязанных семантических знаний, в то время как эпизодические воспоминания отображаются в виде эпизодических ребер, которые могут связывать множество отношений внутри графа.  Построение графа, а также валидация и корректировка ответа менеджера будут реализованы в виде агентов на основе LLM. Тестирование алгоритмов планируется проводить с использованием GigaChat (при наличии доступа к вычислительным и информационным ресурсам Сбербанка), либо с LLaMA и QWEN (на мощностях Сколтеха). Финальное решение будет реализовано с использованием GigaChat. Предлагаемый подход является развитием подхода AriGraph [2, 3], и будет осуществляться исследовательской командой, в состав которой будут входить авторы данной статьи из Сколтеха.
Бизнес-аналитик: Какие критерии будут использоваться для определения "правильного" ответа менеджера при валидации и корректировке ответов в рамках текущего диалога с клиентом?
Заказчик: Мы знаем следующие метрики эффективности, за счёт которых можно выполнить оценку заявленных функций:  Faithfulness, Correctness, Relevancy, BLEU, METEOR, ROUGE. Какие метрики нам ещё стоит включить для оценки качества валидации, генерации и коррекции ответов клиентского менеджера?
Бизнес-аналитик: Какие конкретные сценарии взаимодействия клиентского менеджера с цифровым наставником следует учитывать при разработке функционала валидации, корректировки и рекомендации ответов? Например, типичные ситуации возникновения возражений у клиентов, сложные запросы или нестандартные случаи обслуживания.
Заказчик: (1) валидация ответа менеджера в рамках текущей коммуникации с клиентом; (2) корректировка ответа менеджера в зависимости от сделанных ошибок; (3) рекомендация возможного ответа менеджера для клиента в рамках текущей коммуникации; (4) формирование пространства памяти цифрового наставника на основе графов знаний, которая будет хранить текущую историю диалога менеджера с клиентом, правила/манифест общения с клиентом и техническую/сопроводительную информацию об услугах банка, на которую должен обуславливаться менеджер (и цифровой наставник) при генерации ответов на вопросы клиента
Бизнес-аналитик: Какие типы ошибок чаще всего допускают клиентские менеджеры при общении с клиентами, и как эти ошибки влияют на удовлетворенность клиентов и результаты бизнеса?
Заказчик: У нас нет такой информации
Бизнес-аналитик: Какие источники информации доступны для сбора данных о типичных ошибках клиентских менеджеров при взаимодействии с клиентами, если внутренняя статистика отсутствует?
Заказчик: сбор информации об ошибках не требуется


[2025-08-19 17:03:09.916715] Статус: Операция выполнена успешно.
[2025-08-19 17:03:09.916817] --------------------
[2025-08-19 17:03:09.916911] 4. Генерация ответа с помощью LLM-агента.
[2025-08-19 17:03:09.917321] Выполняем инференс llm...
[2025-08-19 17:03:17.387612] Результат:
- Реализовать функционал валидации ответов клиентских менеджеров в рамках текущей коммуникации с клиентами на предмет соответствия требованиям банка и предоставляемых услуг.
- Предоставить механизм корректировки ответов клиентских менеджеров, выявляя допущенные ошибки и предлагая исправленные варианты ответов.
- Разработать систему рекомендаций возможных ответов клиенту в рамках текущей коммуникации, основываясь на правилах общения и актуальной информации о банковских продуктах.
- Создать пространство памяти цифрового наставника на основе графов знаний, включающее текущую историю диалога, манифест общения с клиентами и техническую информацию о продуктах банка.
- Поддерживать постоянное обновление и модификацию графа знаний, обеспечивая актуальность хранимой информации.
- Использовать технологии больших языковых моделей (LLM) для понимания семантики сообщений и диалогов, а также для реализации механизмов валидации, корректировки и рекомендаций ответов.
- Применять методологию построения внешней памяти агента на основе графов знаний, аналогичную подходу AriGraph, с возможностью дальнейшего развития и оптимизации.
- Оценивать качество функционирования разработанной системы с использованием метрик Faithfulness, Correctness, Relevancy, BLEU, METEOR, ROUGE и других соответствующих показателей.
- Обеспечивать интеграцию с большими языковыми моделями типа GigaChat, LLaMA и QWEN для проведения тестирования и финальной реализации.
- Предусмотреть отсутствие необходимости интеграции с существующими банковскими системами и сторонними сервисами.
- Подготовить необходимые датасеты для оценки качества функций валидации, генерации рекомендаций и корректировок ответов клиентских менеджеров.
- Исключить необходимость сбора статистики о типичных ошибках клиентских менеджеров при отсутствии внутренней информации.
[2025-08-19 17:03:17.387867] Статус: Операция выполнена успешно.
[2025-08-19 17:03:17.387985] --------------------
[2025-08-19 17:03:17.388084] 5. Разбор ответа, сгенерированного LLM-агентом.
[2025-08-19 17:03:17.388346] Результат:
['Реализовать функционал валидации ответов клиентских менеджеров в рамках текущей коммуникации с клиентами на предмет соответствия требованиям банка и предоставляемых услуг.', 'Предоставить механизм корректировки ответов клиентских менеджеров, выявляя допущенные ошибки и предлагая исправленные варианты ответов.', 'Разработать систему рекомендаций возможных ответов клиенту в рамках текущей коммуникации, основываясь на правилах общения и актуальной информации о банковских продуктах.', 'Создать пространство памяти цифрового наставника на основе графов знаний, включающее текущую историю диалога, манифест общения с клиентами и техническую информацию о продуктах банка.', 'Поддерживать постоянное обновление и модификацию графа знаний, обеспечивая актуальность хранимой информации.', 'Использовать технологии больших языковых моделей (LLM) для понимания семантики сообщений и диалогов, а также для реализации механизмов валидации, корректировки и рекомендаций ответов.', 'Применять методологию построения внешней памяти агента на основе графов знаний, аналогичную подходу AriGraph, с возможностью дальнейшего развития и оптимизации.', 'Оценивать качество функционирования разработанной системы с использованием метрик Faithfulness, Correctness, Relevancy, BLEU, METEOR, ROUGE и других соответствующих показателей.', 'Обеспечивать интеграцию с большими языковыми моделями типа GigaChat, LLaMA и QWEN для проведения тестирования и финальной реализации.', 'Предусмотреть отсутствие необходимости интеграции с существующими банковскими системами и сторонними сервисами.', 'Подготовить необходимые датасеты для оценки качества функций валидации, генерации рекомендаций и корректировок ответов клиентских менеджеров.', 'Исключить необходимость сбора статистики о типичных ошибках клиентских менеджеров при отсутствии внутренней информации.']
[2025-08-19 17:03:17.388538] Статус: Операция выполнена успешно.
[2025-08-19 17:03:17.388638] --------------------
[2025-08-19 17:03:17.388729] 6. Постобработка ответа от LLM-агента.
[2025-08-19 17:03:17.389208] Результат:
[SystemRequirement(id='7f5c7', statement='Реализовать функционал валидации ответов клиентских менеджеров в рамках текущей коммуникации с клиентами на предмет соответствия требованиям банка и предоставляемых услуг.', related_srestr_ids=set(), related_userstory_ids=set(), related_scenarios_ids=set()), SystemRequirement(id='52368', statement='Предоставить механизм корректировки ответов клиентских менеджеров, выявляя допущенные ошибки и предлагая исправленные варианты ответов.', related_srestr_ids=set(), related_userstory_ids=set(), related_scenarios_ids=set()), SystemRequirement(id='6ced1', statement='Разработать систему рекомендаций возможных ответов клиенту в рамках текущей коммуникации, основываясь на правилах общения и актуальной информации о банковских продуктах.', related_srestr_ids=set(), related_userstory_ids=set(), related_scenarios_ids=set()), SystemRequirement(id='fe35d', statement='Создать пространство памяти цифрового наставника на основе графов знаний, включающее текущую историю диалога, манифест общения с клиентами и техническую информацию о продуктах банка.', related_srestr_ids=set(), related_userstory_ids=set(), related_scenarios_ids=set()), SystemRequirement(id='43e83', statement='Поддерживать постоянное обновление и модификацию графа знаний, обеспечивая актуальность хранимой информации.', related_srestr_ids=set(), related_userstory_ids=set(), related_scenarios_ids=set()), SystemRequirement(id='50fcb', statement='Использовать технологии больших языковых моделей (LLM) для понимания семантики сообщений и диалогов, а также для реализации механизмов валидации, корректировки и рекомендаций ответов.', related_srestr_ids=set(), related_userstory_ids=set(), related_scenarios_ids=set()), SystemRequirement(id='8b626', statement='Применять методологию построения внешней памяти агента на основе графов знаний, аналогичную подходу AriGraph, с возможностью дальнейшего развития и оптимизации.', related_srestr_ids=set(), related_userstory_ids=set(), related_scenarios_ids=set()), SystemRequirement(id='ff3e0', statement='Оценивать качество функционирования разработанной системы с использованием метрик Faithfulness, Correctness, Relevancy, BLEU, METEOR, ROUGE и других соответствующих показателей.', related_srestr_ids=set(), related_userstory_ids=set(), related_scenarios_ids=set()), SystemRequirement(id='41ad7', statement='Обеспечивать интеграцию с большими языковыми моделями типа GigaChat, LLaMA и QWEN для проведения тестирования и финальной реализации.', related_srestr_ids=set(), related_userstory_ids=set(), related_scenarios_ids=set()), SystemRequirement(id='d26b5', statement='Предусмотреть отсутствие необходимости интеграции с существующими банковскими системами и сторонними сервисами.', related_srestr_ids=set(), related_userstory_ids=set(), related_scenarios_ids=set()), SystemRequirement(id='1b545', statement='Подготовить необходимые датасеты для оценки качества функций валидации, генерации рекомендаций и корректировок ответов клиентских менеджеров.', related_srestr_ids=set(), related_userstory_ids=set(), related_scenarios_ids=set()), SystemRequirement(id='73238', statement='Исключить необходимость сбора статистики о типичных ошибках клиентских менеджеров при отсутствии внутренней информации.', related_srestr_ids=set(), related_userstory_ids=set(), related_scenarios_ids=set())]
[2025-08-19 17:03:17.389365] Статус: Операция выполнена успешно.
